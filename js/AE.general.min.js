{var AE=AE||function(){var APP={resizeTasks:[],scrollTasks:[],transitionTasks:[],displayObjects:{},components:{},init:function(){APP.props={$bodyElement:$("body"),$scrollContainer:$("#scroll-container"),$scrollContent:$("#scroll-content"),$stickyWrapper:$("#sticky-wrapper"),$siteContainer:$("#site-container"),$mainFooter:$("#main-footer"),$mainFooterContent:$("#main-footer__content"),$mainNav:$("#mainnav"),$masthead:$("#masthead"),$mainNavLink:$("#mainnav__link"),$mainNavFull:$("#mainnav").add("#mainnav__link"),isLegacy:$("html").hasClass("ua-ie-9"),isIE:!1,googleMapsAPIKey:"",isAUNZ:!1},oSite&&_.isObject(oSite)&&$.extend(!0,APP.props,oSite),AE.props.chaosSystem&&(APP.props.isAUNZ="AU"===AE.props.chaosSystem||"NZ"===AE.props.chaosSystem),APP.buildURLObject(),APP.props.transEnd=function(){var t,el=document.createElement("fakeelement"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in transitions)if(void 0!==el.style[t])return transitions[t]}(),APP.windowSize=APP.getSiteViewType(),aeDataLayer.push({criteoSiteType:APP.getCriteoTagSiteViewType()}),APP.width=null,AE.privateBrowsing&&AE.privateBrowsing.init(),AE.nav&&AE.nav.init(),AE.legacy&&(AE.legacy.init(),APP.props.isIE=AE.legacy.grief.isIE),AE.utils&&AE.utils.init(),AE.ui&&AE.ui.init(),AE.ga&&"true"!==AECookie.read("iosTrackingDisabled")&&AE.ga.init(),AE.cd&&"true"!==AECookie.read("iosTrackingDisabled")&&window.addEventListener("load",function checkAEcd(){if("AECustomDimension"in window)return AE.cd.init(),void window.removeEventListener("load",checkAEcd);return checkAEcd()}),AE.forms&&AE.forms.init(),AE.maps&&AE.maps.init(),AE.account&&AE.account.init(),AE.modal&&AE.modal.init(),AE.mura&&window.addEventListener("load",function checkMura(){if("mura"in window)return AE.mura.init(),void window.removeEventListener("load",checkMura);return checkMura()}),AE.newsletter&&AE.newsletter.init(),AE.feeds&&AE.feeds.init(),AE.booking&&$("#aebooking,#aemodify,#peugeot-buy-back")[0]&&AE.booking.init(),$(".whitelabel-if")[0]&&window.addEventListener("load",function checkWlIframeResizer(){{var wlIframePagesNotToScrollToTheTop;if("parentIFrame"in window)return(wlIframePagesNotToScrollToTheTop=["","/","/search/","/foo/","/bar/"]).indexOf(oSite.path_info)<0?window.parentIFrame.getPageInfo(function(parentPageInfo){parentPageInfo=parentPageInfo.offsetTop,parentPageInfo-=50;window.parentIFrame.scrollTo(0,parentPageInfo),window.parentIFrame.getPageInfo(!1)}):0!=wlIframePagesNotToScrollToTheTop.indexOf(oSite.path_info)&&wlIframePagesNotToScrollToTheTop.indexOf(oSite.path_info),void window.removeEventListener("load",checkWlIframeResizer)}setTimeout(function(){return checkWlIframeResizer()},100)}),window.addEventListener("pageshow",function(){$(".ui--btn-submit-wait").removeAttr("disabled").removeClass("btn--no-icon").find("i.fa-cog").remove(),$(".rateFinger__button").removeAttr("disabled").removeClass("btn--no-icon"),$(".insurance__options.last td.btn-disabled i.fa-cog, #insuranceUI .package-btn-wrapper.btn-disabled i.fa-cog").remove(),$(".insurance__options.last td.btn-disabled, #insuranceUI .package-btn-wrapper.btn-disabled").removeClass("btn-disabled"),$("#carUpgradeY, #carUpgradeN").removeAttr("disabled"),$(".fingerCancelLink").css("pointer-events","all"),"results"==$("body").attr("id")&&$("html").hasClass("ios")&&$("html").hasClass("mobile")&&$("html").hasClass("ua-safari")&&$(".ui--btn-submit-wait").length&&(AE.ui.init(),AE.booking.matrix.init(),AE.ui.search.init());$(".ui--btn-submit-wait").removeClass("ui--btn-submit-wait")});var debounced=_.debounce(APP.manageResize,250),debounced=($(window).on("resize",debounced),_.debounce(APP.manageScroll,0,!0)),debounced=($("#scroll-content").on("scroll",debounced),{func:function(){var siteSize=APP.getSiteViewType();APP.windowSize!==siteSize&&("palm"===APP.windowSize?APP.palmTransition(!1):"palm"===siteSize&&APP.palmTransition(!0),APP.windowSize=siteSize)},args:[]});debounced.func(debounced.args),APP.addResizeTask(debounced),APP.manageResize(),dfd_ready.resolve(),AE.forms&&AE.forms.postAutoForm()},_augmentPrivateBrowsingLocalStorage:function(){function Storage(type){function createCookie(name,value,days){var date,days=days?((date=new Date).setTime(date.getTime()+24*days*60*60*1e3),"; expires="+date.toGMTString()):"";document.cookie=name+"="+value+days+"; path=/"}function readCookie(name){for(var c,nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}function setData(data){data=encodeURIComponent(JSON.stringify(data)),createCookie("session"==type?getSessionName():"localStorage",data,365)}function getSessionName(){return window.name||(window.name=(new Date).getTime()),"sessionStorage"+window.name}var data=function(){var data=readCookie("session"==type?getSessionName():"localStorage");return data?JSON.parse(decodeURIComponent(data)):{}}();return{length:0,clear:function(){data={},this.length=0,createCookie("session"==type?getSessionName():"localStorage","",365)},getItem:function(key){return void 0===data[key]?null:data[key]},key:function(i){var k,ctr=0;for(k in data){if(ctr==i)return k;ctr++}return null},removeItem:function(key){delete data[key],this.length--,setData(data)},setItem:function(key,value){data[key]=value+"",this.length++,setData(data)}}}var localStorage=new Storage("local"),sessionStorage=new Storage("session");window.localStorage=localStorage,window.sessionStorage=sessionStorage,window.localStorage&&(window.localStorage.__proto__=localStorage,window.sessionStorage.__proto__=sessionStorage)},addResizeTask:function(task){task.args=task.args||[],APP.resizeTasks.push(task)},addScrollTask:function(task){task.args=task.args||[],APP.scrollTasks.push(task)},addTransitionTask:function(task){task.args=task.args||[],task.args.unshift(!1),APP.transitionTasks.push(task)},manageResize:function(){var footerHeight,newWidth=APP.props.$bodyElement.outerWidth(!0);if((APP.props.$bodyElement.hasClass("searchwait")||APP.props.$bodyElement.hasClass("sticky-active"))&&(footerHeight="palm"===APP.getSiteViewType()?0:$("#main-footer__content").outerHeight(!0),APP.props.$mainFooter.height(footerHeight),APP.props.$stickyWrapper.css("padding-bottom",footerHeight)),APP.width!==newWidth){APP.width=newWidth;for(var i=0;i<APP.resizeTasks.length;i++){var task=APP.resizeTasks[i];task.func.apply(this,task.args)}}},manageScroll:function(){for(var i=0;i<APP.scrollTasks.length;i++){var task=APP.scrollTasks[i];task.func.apply(this,task.args)}},heightAdjust:function(){var eleHeight=0;return $(arguments[0]).each(function(){$(this).height("")}),$(arguments[0]).each(function(){eleHeight=$(this).height()>eleHeight?$(this).height():eleHeight}),$(arguments[0]).each(function(){$(this).height(eleHeight)}),eleHeight},palmTransition:function(toPalm){toPalm=toPalm||!1;for(var i=0;i<APP.transitionTasks.length;i++){var task=APP.transitionTasks[i];task.args[0]=toPalm,task.func.apply(this,task.args)}},getSiteViewType:function(){var sizes_lapStart=701,sizes_deskStart=1024,sizes_deskWideStart=1200;return currentSize=APP.props.$bodyElement.outerWidth(!0),sizeType="palm",currentSize>=sizes_lapStart&&(sizeType="lap"),currentSize>=sizes_deskStart&&(sizeType="desk"),sizeType=currentSize>=sizes_deskWideStart?"desk-wide":sizeType},getCriteoTagSiteViewType:function(){switch(AE.getSiteViewType()){case"palm":sizeType="m";break;case"lap":sizeType="t";break;default:sizeType="d"}return sizeType},buildURLObject:function(){APP.url=APP.url||{},APP.url.props=APP.url.props||{},APP.url.props.host=window.location.hostname,APP.url.props.path=window.location.pathname,APP.url.props.protcol=window.location.protocol,APP.url.props.query=window.location.search,APP.url.props.href=window.location.href;for(var aPairs=(APP.url.props.query.length&&"?"===APP.url.props.query.substring(0,1)?APP.url.props.query.substring(1):APP.url.props.query).split("&"),i=0;i<aPairs.length;i++){var aKeyVal=aPairs[i].split("=");aKeyVal[0].trim().length&&(APP.url[aKeyVal[0].trim()]=!aKeyVal[1]||aKeyVal[1].trim())}}};return APP}(),AE,AE;(AE=AE||{}).account=AE.account||function(){var APP={init:function(){$(".arrow").show();document.getElementById("member_reset_email"),document.getElementById("account_lookup_button");APP.props={$resetInput:document.getElementById("member_reset_email"),$resetBttn:$("form.validate"),$isInCheckout:"checkout"==window.location.pathname.split("/")[1],$isInMemberAccount:"member-accounts"==window.location.pathname.split("/")[1],$accountLoginForm:$("form#account_login_form:visible"),$isInLogin:0!=$("form#account_login_form:visible").length,$isLoggedIn:!("true"!=window.jsloginStatus&&!window.jsloginStatus),$memberDefaultSection:$("#member_account_information_block"),$ObjMember:"/plugins/ae3/lib/Member3.cfc",$ObjAff:"/plugins/ae3/lib/Affiliate3.cfc"},APP.props.$resetInput&&APP.props.$resetInput.addEventListener("keydown",function(e){13==e.which&&(e.preventDefault(),APP.props.$resetBttn.click())});let countryStates=["US","AU","CA","BR","ZA"];$(window).load(function(){var selectedName=$(".country--select").find(":selected").val();countryStates.includes(selectedName)?$(".state-container").show():$(".state-container").removeAttr("style").hide()}),$(".country--select").change(function(){var chosenCountry=$(this).val();countryStates.includes(chosenCountry)?$(".state-container").show():$(".state-container").removeAttr("style").hide()}),$("#account_update").on("focus",".state--select,.country--select",function(){var isValid=$(this).parent().hasClass("ui-state-valid"),isInValid=$(this).parent().hasClass("ui-state-invalid");isValid||isInValid||$(this).parent().css("border","2px solid #3089e0")}),$("#account_update").on("blur",".state--select,.country--select",function(){$(this).parent().css("border","2px solid #5fba35")}),$('div.member_accounts [data-pattern="notblank"],div.member_accounts [data-pattern="email"]').on("keyup blur",function(ele){var $formId=$(this).parents("form").attr("id"),$fld=$(this).attr("name");APP.clearServerError($formId,$fld)}),$("input.validateEmail").on("keyup blur",function(ele){var $formId=$(this).parents("form").attr("id"),$match=$(this).attr("data-match"),$formId=$("#"+$formId+" input[name="+$match+"]");APP.initCustomMatchVerification(this),APP.initCustomMatchVerification($formId)}),$("input.validateRemail").on("keyup blur",function(ele){APP.initCustomMatchVerification(this)}),$("input.validateRemail").on("paste",function(ele){var $formId=$(this).parents("form").attr("id");APP.removeGuardianError($formId,$(this).attr("name"))}),$("input#member_reemail").on("blur keyup",function(ele){APP.initCustomMatchVerification(this)}),$("input.validateRepass").on("focus blur keyup",function(){APP.initCustomMatchVerification(this)}),$("input.validatePassword").on("focus keyup blur",function(ele){var $formId=$(this).parents("form").attr("id"),$match=$(this).attr("data-match"),$match=$("#"+$formId+" input[name="+$match+"]");$(this).hasClass("legacy")?APP.checkPasswordLegacy($formId):(APP.checkPassword($formId),APP.initCustomMatchVerification($match))}),$("input#current_password").on("blur",function(ele){var $formId=$(this).parents("form").attr("id"),$error_ele=APP.getErrorEle($formId,$(this).attr("name"));APP.removeGuardianError($formId,$(this).attr("name")),$($error_ele).html("")}),$("input.current_pwd").on("blur",function(ele){var $formId=$(this).parents("form").attr("id"),$formId=APP.getErrorEle($formId,$(this).attr("name"));$($formId).html("")}),$("input#member_email").on("blur",function(ele){var $formId=$(this).parents("form").attr("id"),$formId=APP.getErrorEle($formId,"member_email");$($formId).html("")}),APP.props.$isInMemberAccount&&!APP.props.$isInLogin&&($("#member_signup #country,#state").on("blur",function(){$(this).parent().css("border","2px solid #5fba35")}),$("#member_signup #country,#state").on("focus",function(){var isValid=$(this).parent().hasClass("ui-state-valid"),isInValid=$(this).parent().hasClass("ui-state-invalid");isValid||isInValid||$(this).parent().css("border","2px solid #3089e0")}),APP.props.$isLoggedIn)&&0!=APP.props.$memberDefaultSection.length&&($("#account_update_button").attr("disabled",!1),APP.loadAccountInformation(!1),document.getElementById("member_payment_information_block")&&APP.getPayOptions(),localStorage.getItem("memberAccountSection"))&&_.isString(localStorage.getItem("memberAccountSection"))&&""!=localStorage.getItem("memberAccountSection")&&APP.navigateMemberPageLocalStorage(),AE.ui.addBodyClickTask({func:APP.onBodyClick})},onBodyClick:function(event,$target){if(13!==event.which){var $thisForm,thisForm,frm_selector,$forms;if(($target.hasClass("member_login_portable")||$target.parent().hasClass("member_login_portable"))&&AE.ui.dialog.launch({selector:"#memberloginNav",dialogClass:"account-signinform account-signinform--portable",titleBar:!1}),$target.hasClass("my-account-dropdown")&&APP.props.$isInMemberAccount&&event.preventDefault(),$target.is("#member_my_reservations_link")&&localStorage.setItem("memberAccountSection","my_reservations"),$target.is("#member_account_information_link")&&(APP.loadAccountInformation(!1),localStorage.setItem("memberAccountSection","account_information")),$target.is("#member_payment_information_link")&&localStorage.setItem("memberAccountSection","payment_information"),$target.is("#member_promotions_link")&&localStorage.setItem("memberAccountSection","promotions"),$target.is("#member_customer_support_link")&&localStorage.setItem("memberAccountSection","customer_support"),!APP.props.$isInMemberAccount&&$target.hasClass("member_link")&&window.location.replace("/member-accounts"),APP.props.$isInMemberAccount&&$target.hasClass("member_link")&&APP.props.$isInLogin&&"true"==window.jsloginStatus&&window.location.replace("/member-accounts"),$target.parent().parent().is("#member_account_information_block")&&APP.loadAccountInformation(!1),$target.closest("div.menu-dropdown").hasClass("account-signinform")&&$target.hasClass("ui-dialog-titlebar-close")&&($("#memberPasswordResetNav").hasClass("visuallyhidden")||(APP.setHTML("member-response-left",""),APP.hideEle("memberPasswordResetNav"),APP.showEle("memberloginNav"),$("#member_reset_password_nav").find("input[type=text], input[type=password], input[type=email]").val(""))),$target.hasClass("account_post")&&APP.props.$isInMemberAccount&&!$target.hasClass("memberLogout")&&!APP.props.$isInLogin&&APP.navigateMemberPageLocalStorage(),$target.is("#submitForm")&&"btt-submit_booking"==$(event.target).attr("data-value")&&(frm_selector="form#ae-checkout",$forms=$(frm_selector),AE.forms.applyGuardian($forms),AE.forms.addSpinGear($target),$("form#ae-checkout").submit(),$(frm_selector+" .ui-state-invalid")[0])&&AE.forms.removeSpinGear($target),$target.is("#acct__pswd__submit")&&($thisForm=$target.closest("form")[0],$("form#"+$thisForm.id+" input.validateRepass"),$("span.custom_msg").html(""),$($thisForm).submit()),$target.is("#bttn_aff_pass_lookup")&&(AE.forms.addSpinGear($target),APP.sendResetAff($target)),$target.is("#btn_aff_pass_reset")&&APP.submitAndCheckresetPasswordAff($target),$target.is("#btn_aff_login")&&AE.forms.addSpinGear($target),$target.is("#submitForm")&&"btn_aff_signup"==$(event.target).attr("data-value")&&($thisForm=$target.closest("form")[0],$("form#"+$thisForm.id+" span.custom_msg").html("")),$target.hasClass("bttn_aff_pass_update--cancel")&&($("div.frm_aff_update").removeClass("visuallyhidden"),$("div#aff_pass_result").remove(),$("button.bttn_aff_pass_update--cancel").remove(),$("div.secnav")[0].scrollIntoView({behavior:"smooth",block:"start"})),$target.hasClass("btn--affOp")&&$("div.aff_frm_result").html(""),$target.hasClass("memberLogout")){$target.hasClass("noSpinner")||($(".arrow").hide(),AE.forms.addSpinGear($target));try{localStorage.clear()}catch(err){}$("#account_form .account_form").val($(event.target).attr("data-value")),APP.props.$isInMemberAccount&&$("#account_form input[name=form_location]").val("member-account"),APP.logOutMember()}$target.is("#account_login_button")&&$("form[name='account_login_form']").submit(function(event){event.preventDefault()}),$target.hasClass("account_create_link")&&(thisForm=$(".account_create_link").closest("form")[0],localStorage.setItem("memberAccountSection","createAccount"),$(thisForm).submit()),$target.is("#account_create_button")&&(AE.forms.addSpinGear($target),$($target).prop("disabled",!0),APP.checkAccountFormsPreSubmit($target)?APP.submitMemberAccountCreateForm($target):$($target).prop("disabled",!1)),$target.is("#savecard")&&(eleSaveCard=$("#savecard").is(":checked"),APP.setHTML("Member_error_message",""),eleSaveCard?(APP.setHTML("acct_processing","..... checking accounts"),thisForm=$target.closest("form")[0],$thisForm=$("#"+thisForm.id).find("input[name=email]").val(),APP.checkMemberExistsByEmail($thisForm)):APP.handleCreateAccountFormCheckout(!1,!1)),$target.is("#account_edit_button")&&(callback=function(){APP.loadAccountUpdateForm(),APP.showHide("account_update","account_information"),$("div.required").removeClass("ui-state-valid")},$("#member_account_information_block")[0].scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(function(){callback()},50)),$target.is("#account_edit_cancel_button")&&(APP.loadAccountInformation(!0),APP.setHTML("dspMemberUpdate","")),($target.is("#account_delete_button")||$target.is("#account_edit_delete_button"))&&APP.deleteWarning($target),$("#account_update_button").click(function(){setTimeout(function(){var cookieValue=document.cookie.split("; ").find(row=>row.startsWith("MEMBERAGE")).split("=")[1],existing=(existing=localStorage.getItem("aeSearch"))?JSON.parse(existing):{};0===$("#member_dob").val().length?existing.searchAge="40":existing.searchAge=cookieValue,localStorage.setItem("aeSearch",JSON.stringify(existing)),(cookieValue=(cookieValue=localStorage.getItem("aeSearch"))?JSON.parse(cookieValue):{}).searchAgeCheckbox=!0,localStorage.setItem("aeSearch",JSON.stringify(cookieValue)),location.reload()},700)}),$target.is("#account_update_button")&&(AE.forms.addSpinGear($target),$($target).prop("disabled",!0),APP.checkAccountFormsPreSubmit($target)?APP.submitMemberUpdate($target):$($target).prop("disabled",!1)),$target.is(".account_forgot_password")&&window.location.replace("/member-accounts"),$target.is("#account_lookup_button")&&(AE.forms.addSpinGear($target),$($target).prop("disabled",!0),APP.sendReset($target)),$target.is(".submit_password_save_button")&&(frm_selector="form#"+(thisForm=$target.closest("form")[0]).id,$forms=$(frm_selector),AE.forms.applyGuardian($forms),AE.forms.addSpinGear($target),APP.checkAccountFormsPreSubmit($target)?($($target).prop("disabled",!0),APP.submitAndCheckresetPassword(thisForm.id,"",$target)):$($target).prop("disabled",!1)),$target.is("#nav_submit_password_cancel")&&(APP.hideEle("memberPasswordResetNav"),APP.showEle("memberloginNav"),thisForm.find("input[type=text], input[type=password], input[type=email]").val("")),$target.is("#account_reset_memberUpdate")&&(window.jsloginStatus=!1,$("#resetPasswordMemberUpdate").submit()),$target.is("#addNewCC")&&(event.preventDefault(),APP.toggleAddCard(),APP.getAddCardWidget()),$target.hasClass("deleteCC")&&(event.preventDefault(),APP.deleteCCWarning($target[0].dataset.cardid)),$target.hasClass("ui-datepicker-clear-input")&&(event.preventDefault(),$("#member_dob").datepicker("setDate",null),$("span.ui-datepicker-clear-input").addClass("visuallyhidden"),$("input#hidden-dob-date").val(""))}var callback;$target.hasClass("datePickerInput")&&APP.showDobClear(),$target.hasClass("toggleeMemberPayment")&&($target.hasClass("open")?APP.getPayOptions():(APP.hideAddCardUI(),$("#editCCControl").empty())),APP.props.$isInMemberAccount&&$target.hasClass("toggle_pm_header")&&(_.each($(".toggle_pm_header"),function(el){el=$(el);el.data("togglee")!==$target.data("togglee")&&(el.removeClass("open"),$(el.data("togglee")).addClass("visuallyhidden"))}),"headerMemberReservations"===$target.attr("id"))&&APP.loadAccountReservations()},navigateMemberPageLocalStorage:function(){APP.navigateMemberPage(localStorage.getItem("memberAccountSection")),localStorage.removeItem("memberAccountSection")},navigateMemberPage:function(section){var $sectionToOpen="#Dummy",$sectionToScrollTo=$("#dummy_block")[0];switch($(".toggle_pm_header").removeClass("open"),$(".togglee.push--top").addClass("visuallyhidden"),section){case"my_reservations":$sectionToOpen="#toggleeMemberReservations",$sectionToScrollTo=$("#member_my_reservations_block")[0],APP.loadAccountReservations();break;case"account_information":$sectionToOpen="#toggleeMemberAccount",$sectionToScrollTo=$("#member_account_information_block")[0];break;case"payment_information":$sectionToOpen="#toggleeMemberPayment",$sectionToScrollTo=$("#member_payment_information_block")[0];break;case"promotions":$sectionToOpen="#toggleeMemberPromotions",$sectionToScrollTo=$("#member_promotions_block")[0];break;case"createAccount":$sectionToScrollTo="GB"==AE.props.chaosSystem||"EU"==AE.props.chaosSystem?($sectionToOpen="#toggleeMemberPromotions",$("#member_promotions_block")[0]):$sectionToOpen="";break;case"customer_support":$sectionToOpen="#toggleeMemberSupport",$sectionToScrollTo=$("#member_customer_support_block")[0];break;default:$sectionToOpen="#toggleeMemberAccount",$sectionToScrollTo=$("#member_account_information_block")[0]}"account_information"==$sectionToOpen&&APP.loadAccountInformation(!1),""!=$sectionToScrollTo&&""!=$sectionToOpen&&($('[data-togglee="'+$sectionToOpen+'"]').trigger("click"),$sectionToScrollTo.scrollIntoView({behavior:"smooth",block:"start"}))},duplicateAccountWarning:function(msg){var oButtons={};oButtons[AEdata.account.duplicateModal.btn_reset]=function(){window.location.href="/member-accounts",AE.ui.dialog.close()},oButtons[AEdata.account.duplicateModal.btn_login]=function(){window.location.href="/member-accounts",AE.ui.dialog.close()};AE.ui.dialog.launch({titleBar:!0,id:"duplicateWarning",dialogClass:"top-dialog",content:function(msg){var docFrag=$(document.createDocumentFragment());return docFrag.append($(document.createElement("div")).append(msg)),docFrag}(msg),buttons:oButtons,applyUI:!0,buttonOpts:{setClass:"align-center soft-half--left",lastButtonClass:"push--top",firstButtonClass:"btn--primary push--top"},width:600<$(window).width()?500:"70%"})},duplicateAccountWarningUpdate:function($msg){var oButtons={};oButtons[AEdata.account.duplicateModalUpdate.btn_cancel]=function(){AE.ui.dialog.close(),APP.navigateMemberPage("account_information")};AE.ui.dialog.launch({titleBar:!0,id:"duplicateWarningUpdate",dialogClass:"top-dialog",content:function($msg){var docFrag=$(document.createDocumentFragment());return docFrag.append($(document.createElement("div")).append($msg)),docFrag}($msg),buttons:oButtons,applyUI:!0,buttonOpts:{setClass:"align-center soft-half--left",lastButtonClass:"push--top",firstButtonClass:"btn--primary push--top"},width:600<$(window).width()?500:"70%"})},deleteCCWarning:function(cardId){var oButtons={};oButtons[AEdata.account.oStoredPaymentLang.button_delete]=function(){APP.deletePaymentOption(cardId),AE.ui.dialog.close()},oButtons[AEdata.account.oStoredPaymentLang.button_cancel]=function(){AE.ui.dialog.close()};AE.ui.dialog.launch({titleBar:!0,id:"deleteWarning",dialogClass:"top-dialog",content:function(cardId){var cardId=_.findWhere(AEdata.CARDS,{CARDID:cardId}),modalCardSummary=(cardId.cardTypeDisplay=AEdata.oCClogos[cardId.CARDTYPE.toLowerCase()]?'<img style="flex:auto;" src="'+AEdata.oCClogos[cardId.CARDTYPE.toLowerCase()]+'">':"<strong>"+cardId.CARDTYPE+"</strong> ",cardId.cardLast4="<strong>"+cardId.LAST4+"</strong> ",cardId.cardExp="<strong>"+cardId.EXP+"</strong> ",AEdata.account.oStoredPaymentLang.txt_card_summary.replace("##cardtype##",cardId.cardTypeDisplay)),cardId=(modalCardSummary=(modalCardSummary=modalCardSummary.replace("##last4##",cardId.cardLast4)).replace("##expdate##",cardId.cardExp),$(document.createDocumentFragment()));return cardId.append($(document.createElement("h3")).append(AEdata.account.oStoredPaymentLang.confirm_delete_card_header)),cardId.append('<div class="soft--ends text--center">'+modalCardSummary+"</div>"),cardId.append($(document.createElement("div")).append(AEdata.account.oStoredPaymentLang.confirm_delete_card_body)),cardId}(cardId),buttons:oButtons,applyUI:!0,buttonOpts:{setClass:"align-center soft-half--left",lastButtonClass:"push--top",firstButtonClass:"btn--primary push--top"},width:600<$(window).width()?500:"70%"})},deleteWarning:function($Target){var docFrag,oButtons={};oButtons[AEdata.account.deleteModal.btn_delete]=function(){window.jsloginStatus=!1;try{localStorage.clear()}catch(err){}AE.forms.addSpinGear($Target);var $suid=$Target.data("suid");APP.deleteSFRecord($suid),$("#submitMemberDeleteForm").submit(),AE.ui.dialog.close()},oButtons[AEdata.account.deleteModal.btn_cancel]=function(){AE.ui.dialog.close()};AE.ui.dialog.launch({titleBar:!0,id:"deleteAccountWarning",dialogClass:"top-dialog",content:((docFrag=$(document.createDocumentFragment())).append($(document.createElement("h3")).append(AEdata.account.deleteModal.delete_warn_head)),docFrag.append($(document.createElement("div")).append(AEdata.account.deleteModal.delete_warn)),docFrag),buttons:oButtons,applyUI:!0,buttonOpts:{setClass:"align-center soft-half--left",lastButtonClass:"push--top",firstButtonClass:"btn--primary push--top"},width:600<$(window).width()?500:"70%"})},addInvalidClass:function($formId,$ele){$("#"+$formId+" input[name="+$ele+"]");$formId=$("#"+$formId+" input[name="+$ele+"]").parent();$formId.removeClass("ui-state-valid"),$formId.addClass("ui-state-invalid")},addValidClass:function($formId,$ele){$("#"+$formId+" input[name="+$ele+"]");$formId=$("#"+$formId+" input[name="+$ele+"]").parent();$formId&&($formId.removeClass("ui-state-invalid"),$formId.addClass("ui-state-valid"))},removeInvalidClass:function($formId,$ele){var $formId=document.querySelector("#"+$formId+" #"+$ele);$formId&&($formId=$($formId.parentNode),"all"==$ele?$("div.required").removeClass("ui-state-invalid"):$formId.removeClass("ui-state-invalid").addClass("ui-state-valid"))},removeValidClass:function($formId,$ele){$formId=document.querySelector("#"+$formId+" #"+$ele);$($formId.parentNode).removeClass("ui-state-valid")},removeValidClassByClass:function($formId,eleClass){$formId=document.querySelector("#"+$formId+" ."+eleClass);$($formId.parentNode).removeClass("ui-state-valid")},showGridDiv:function($ele,$formId){$ele=document.querySelector("#"+$ele);$($ele.parentNode).removeClass("visuallyhidden")},showGridDivByClass:function($formId,eleClass){$formId=document.querySelector("#"+$formId+" ."+eleClass);$($formId.parentNode).removeClass("visuallyhidden")},getWhichReset:function($ele){return $($ele).hasClass("nav")?"member_reset_password_nav":$($ele).hasClass("signup")?"member_signup":"member_reset_password"},hideGridDiv:function($formId,$ele){$ele=document.querySelector("#"+$ele);$ele&&$($ele.parentNode).addClass("visuallyhidden")},hideGridDivByClass:function($formId,$eleClass){$formId=document.querySelector("#"+$formId+" ."+$eleClass);$formId&&$($formId.parentNode).addClass("visuallyhidden")},SetErrorText:function($formId,$eleClass,$str){$("#"+$formId+" ."+$eleClass).innerHTML=$str},loadAccountInformation:function(scrollTop){var cfc=APP.props.$ObjMember+"?method=showAccountInformation",$ele="";$.ajax({type:"POST",url:cfc,dataType:"json",success:function(result){""!=result.trim&&($ele=document.getElementById("dspAccountInfo"))&&($ele.innerHTML="",$ele.innerHTML=result,APP.hideShow("account_update","account_information"),scrollTop)&&$("#member_account_information_block")[0].scrollIntoView({behavior:"smooth",block:"start"})},error:function(){}})},logOutMember:function(){var cfc=APP.props.$ObjMember+"?method=memberLogoutRemote";$.ajax({type:"POST",url:cfc,success:function(){window.location.reload()},error:function(xhr,ajaxOptions,thrownError){}})},submitMemberUpdate:function($target){var $checkEmail=$("#member_email").val(),$currentemail=$("#member_email_old").val();document.getElementsByClassName("ui-state-invalid")[0];if(!$checkEmail)return($errorFirst=document.getElementsByClassName("ui-state-invalid")[0]).scrollIntoView({behavior:"smooth",block:"start"}),!1;$checkEmail!=$currentemail?APP.checkMemberExists($checkEmail,$target):($currentemail=$target.attr("id"),$thisForm=$("#"+$currentemail).closest("form")[0],APP.submitAndCheckMemberAccountForm($thisForm.id,$target,""))},submitAffiliateForm:function($target){var $target=$target.closest("form")[0],$forms=$($target);AE.forms.applyGuardian($forms),$($target).submit()},loadAccountUpdateForm:function(){var cfc=APP.props.$ObjMember+"?method=dspUpdateAccountForm";return $.ajax({type:"POST",url:cfc,dataType:"json",success:function(result){result.isEmpty()||($("div#dspMemberUpdate").html(""),$("div#dspMemberUpdate").html(result.markup),AEdata.arrstates=JSON.parse(result.states),AE.ui.applyJQUI("form#member_update"),AE.ui.selectmenu.init(),result=$("form#member_update"),AE.forms.applyGuardian(result),$("#member_account_information_block")[0].scrollIntoView({behavior:"smooth",block:"start"}))},error:function(){}}),!1},getUrlParameter:function(sParam){for(var sParameterName,sURLVariables=decodeURIComponent(window.location.search.substring(1)).split("&"),index=0;index<sURLVariables.length;index++)if((sParameterName=sURLVariables[index].split("="))[0]===sParam)return void 0===sParameterName[1]||sParameterName[1]},resetResetStatus:function(tokenExpired,isReset){var cfc=APP.props.$ObjMember+"?method=setResetStatus";$.ajax({type:"POST",url:cfc,data:{tokenExpired:tokenExpired,isReset:isReset}})},sendResetAff:function($target){var $hasBlanks,cfc=APP.props.$ObjAff+"?method=sendPasswordResetAff",$form=$($target).closest("form")[0],$form=0!=$form.length?$($form).attr("id"):"",$messDiv=$("div#msg_reset_response"),$frmInstructions=$("div#msg_reset_instr"),$resetFormDiv=$("div#form_reset_request"),$atv2=(APP.getErrorEle($form,"email"),APP.getUrlParameter("atv2")?1:0);return""!=$form&&($hasBlanks=APP.checkBlank($form),$form=($form=$("#"+$form).serialize())+"&atv2="+encodeURIComponent($atv2),$("#reset-response"),$hasBlanks?(AE.forms.removeSpinGear($target),$($target).prop("disabled",!1)):$.post(cfc,$form,function(result){"invalid"!=result.RESULT&&($messDiv.html(""),$($messDiv).html(result.MESS),result.RESULT?($($resetFormDiv).addClass("visuallyhidden"),$($frmInstructions).addClass("visuallyhidden"),$($messDiv).removeClass("visuallyhidden"),$($messDiv).removeClass("error_message")):($($resetFormDiv).removeClass("visuallyhidden"),$($messDiv).removeClass("visuallyhidden"),$($messDiv).addClass("error_message"))),AE.forms.removeSpinGear($target),$($target).prop("disabled",!1)},"json")),!1},sendReset:function($target){var $formVals,$isMobile,$eleLookup,$resetFld,$error_ele,$str,cfc=APP.props.$ObjMember+"?method=sendPasswordReset",$form=$($target).closest("form")[0],$formId=0!=$form.length?$($form).attr("id"):"";return""!=$formId&&($resetFld=$("#"+$form.id+" input[name='member_reset_email']"),$error_ele=APP.getErrorEle($formId,$resetFld.attr("name")),$formVals=$("#account_lookup_form").serialize(),$isMobile=APP.checkIfMobile(),$eleLookup=$("#member-response-right"),$resetFld=$("#"+$form.id+" input[name='member_reset_email']"),name,$error_ele=APP.getErrorEle($formId,$resetFld.attr("name")),$str="",$isMobile?$eleLookup.addClass("push--bottom"):$eleLookup.addClass("full-push--top"),""==$("input#member_reset_email").val()?(APP.addInvalidClass($formId,$("input#member_reset_email").attr("name")),AE.forms.removeSpinGear($target),!1):(APP.setHTML("member-response-left",""),APP.hideGridDiv("account_lookup_form","member-response-left"),void $.post(cfc,$formVals,function(result){if("invalid"==result.RESULT)AE.forms.removeSpinGear($target),$str="<li class='small--errornote'>"+result.MESS+"</li>",$($error_ele).html($str);else{if(!result.RESULT&&""==result.MESS.trim)return!1;AE.forms.removeSpinGear($target),APP.setHTML("member-response-right",result.MESS),APP.showGridDiv("member-response-right","")}$($target).prop("disabled",!1)},"json")))},checkMemberExistsByEmail:function($email){var cfc=APP.props.$ObjMember+"?method=getMemberIDByEmailRemote";$.ajax({type:"GET",url:cfc,data:{member_email:$email},dataType:"json",success:function(result){APP.setHTML("Member_error_message",""),APP.setHTML("acct_processing",""),result.INVALID||result.RESULT?($("div.chkout_acct_container").removeClass("visuallyhidden"),APP.setHTML("Member_error_message",result.MESSAGE),$("div#member_response").removeClass("visuallyhidden"),$("#savecard").prop("checked",!1),APP.handleCreateAccountFormCheckout(!1,!0)):($("div#member_exists").addClass("visuallyhidden"),APP.handleCreateAccountFormCheckout(!0,!1))}})},submitMemberAccountCreateForm:function($target){var $form=$($target).closest("form")[0],$email=$("#"+$form.id+" input[name='member_email']").val();APP.setHTML("duplicateMemberMsg",""),APP.hideEle("duplicateMemberError",""),$email?APP.checkMemberExists($email,$target):APP.submitAndCheckMemberAccountForm($form.name,$target,"")},checkMemberExists:function(checkEmail,$target){var $elemID=$target.attr("id"),$form=$("#"+$elemID).closest("form")[0],$elemID=APP.props.$ObjMember+"?method=checkAccountExists",$emailFld=$("#"+$form.id+" input[data-check='member_email']");$.ajax({type:"GET",url:$elemID,data:{member_email:$emailFld.val()},dataType:"json",success:function(result){result.RESULT?(APP.showEle("duplicateMemberError"),APP.setHTML("duplicateMemberMsg",result.MESS),"member_update"==$form.id?APP.duplicateAccountWarningUpdate(result.MESS):APP.duplicateAccountWarning(result.MESS),AE.forms.removeSpinGear($target),$($target).prop("disabled",!1),APP.addInvalidClass($form.id,$($emailFld).attr("name"))):APP.submitAndCheckMemberAccountForm($form.id,$target,"")}})},deleteSFRecord:function($suid){var cfc=APP.props.$ObjMember+"?method=deleteSFRecord";$.ajax({type:"GET",url:cfc,data:{suid:$suid},dataType:"json",success:function(result){}})},checkPassword:function($formId){var $ele=$("form#"+$formId+" input.validatePassword"),$fld=$($ele).attr("name"),$str=$ele.val(),$ele=($($ele).attr("data-match"),APP.validatePwd($str));$("#"+$formId).find(":button");return jQuery.each($ele,function(name,value){$error_item=$("#"+$formId+" li.checklist."+name),value?($error_item.removeClass("pwd_error"),$error_item.addClass("pwd_valid")):($error_item.removeClass("pwd_valid"),$error_item.addClass("pwd_error"))}),$ele.validated?(APP.hideGridDivByClass($formId,"memberPasswordChecklist"),APP.addValidClass($formId,$fld)):(APP.showGridDivByClass($formId,"memberPasswordChecklist"),APP.addInvalidClass($formId,$fld)),$ele.validated},checkPasswordLegacy:function($formId){var $ele=$("form#"+$formId+" input.validatePassword"),$fld=$($ele).attr("name"),$str=$ele.val(),$errorGuardian=APP.getGuardianErrorEle($formId,$fld),$errorGuardian=$("span#"+$errorGuardian+":visible"),$messfield=APP.getErrorEle($formId,$fld),$ele=$($ele).attr("data-error-message"),$str=APP.validatePwdLegacy($str);return $($errorGuardian).remove(),$str.validated?($($messfield).html(""),APP.addValidClass($formId,$fld)):(APP.addInvalidClass($formId,$fld),0==$errorGuardian.length&&$($messfield).html($ele)),$str.validated},initCustomMatchVerification:function($ele){var $formId=$($ele).parents("form").attr("id"),$fldEle=$($ele),$fldEle=$($fldEle).attr("name"),$match=$($ele).attr("data-match"),$ele=($ele=$($ele).attr("data-error-mess-ele"))||$fldEle;return APP.verifyMatch({formId:$formId,thisEle:$fldEle,matchEle:$match,errorMessDspEle:$ele})},verifyMatch:function($data){var $formId=$data.formId,$thisEle=$data.thisEle,$matchEle=$data.matchEle,$data=$data.errorMessDspEle,$messfield=APP.getErrorEle($formId,$data),$current_mess=$($messfield).html(),$thisFld=$("#"+$formId+" input[name="+$thisEle+"]"),$matchEle=$("#"+$formId+" input[name="+$matchEle+"]"),$noCase=!1,$strDspMess=$($thisFld).data("error-message-nomatch"),$isValid=!1,$isMatch=($("#"+$formId).find(":button"),!1),$thisEle=APP.getGuardianErrorEle($formId,$thisEle),$thisEle=$("span#"+$thisEle);return $thisFld.data("match-nocase")&&($noCase=$thisFld.data("match-nocase")),($isMatch=$thisFld.val()&&$matchEle.val()?$noCase?$thisFld.val().toUpperCase()===$matchEle.val().toUpperCase():$thisFld.val()===$matchEle.val():$isMatch)||""==$thisFld.val()?$isMatch&&""!=$thisFld.val()?($($messfield).html(""),APP.addValidClass($formId,$data),$isValid=!0):""==$thisFld.val()&&0!=$thisEle.length&&$($messfield).html(""):(""!=$thisFld.val()&&0!=$thisEle.length&&APP.removeGuardianError($formId,$data),$current_mess==$strDspMess&&""!=$current_mess||($($messfield).html(""),$($messfield).html($strDspMess)),APP.addInvalidClass($formId,$data),$isValid=!1),$isValid},checkAccountFormsPreSubmit:function($target){var $pwdVer,$form=$($target).closest("form")[0],$formId=$form.id,$form=APP.checkBlank($form.id),$isValid=!1,$isValid_pwd=!1,$pwdMatch=!1;return $pwdMatch=0!=$("#"+$formId+" input.validatePassword").length?($isValid_pwd=APP.checkPassword($formId),$pwdVer=$("#"+$formId+" input.validateRepass"),APP.initCustomMatchVerification($pwdVer)):$isValid_pwd=!0,($isValid=!$form&&$isValid_pwd&&$pwdMatch?!0:$isValid)||(AE.forms.removeSpinGear($target),APP.scrollToErrors($formId,$target)),$isValid},scrollToErrors:function($formId,$target){$formId=document.querySelectorAll("form#"+$formId+" .ui-state-invalid");0!=$formId.length&&($position=$($formId[0]).position().top,200<=($thisposition=$($target).position().top)-$position)&&$formId[0].scrollIntoView({behavior:"smooth",block:"start"})},submitAndCheckresetPasswordAff:function($target){AE.forms.addSpinGear($target);var $thisForm=$target.closest("form")[0],$formVals=$("#"+$thisForm.id).serialize(),$isValidPwd=($("#"+$thisForm.id+" input[name=typex]").val(),APP.checkPasswordLegacy($thisForm.id)),$ele=$("#"+$thisForm.id+" input[name=reset_repassword]"),$ele=APP.initCustomMatchVerification($ele),$hasBlanks=APP.checkBlank($thisForm.id),$errorEleNotFound=APP.getErrorEle($thisForm.id,"no_match"),$errorEleNotFound=$($errorEleNotFound);!$hasBlanks&&$isValidPwd&&$ele&&($thisForm=APP.props.$ObjMember+"?method=resetPasswordAff",$.ajax({type:"POST",url:$thisForm,data:$formVals,dataType:"json",success:function(result){var $postForm,$elesuccessMsg,$elepwdChanged;result.RESULT?result.PWD_CHANGED&&($postForm=$("form#aff_reset_password"),$elesuccessMsg=$("form#aff_reset_password input#successMsg"),$elepwdChanged=$("form#aff_reset_password input#pwdChanged"),$($elesuccessMsg).val(result.MESS),$($elepwdChanged).val(!0),$($postForm).submit()):(result.AFF_FOUND?$($errorEleNotFound).html(""):$($errorEleNotFound).html(result.MESS),AE.forms.removeSpinGear($target),AE.ui.enableClicks()),$($target).prop("disabled",!1),AE.ui.enableClicks()},error:function(){}}))},submitAndCheckresetPassword:function($formId,$fieldToCheck,$Target){var $cfc=APP.props.$ObjMember+"?method=checkAndSubmitResetFormRemote",$thisForm=$("#"+$formId),$isNav=!1,$formVals=$thisForm.serialize(),$strSingle="",$error_ele="",$hasErrors=!0,$currEle="",$currEleVal="",$currEle_curr_val="",$do_nothing=!1;AE.forms.addSpinGear($Target),$thisForm.hasClass("nav")&&($isNav=!0),APP.setHTML("member-response-left",""),$fieldToCheck?$formVals=$formVals+"&fieldToCheck="+encodeURIComponent($fieldToCheck):APP.hideGridDivByClass($formId,"memberPasswordChecklist"),$.ajax({type:"POST",dataType:"JSON",cache:!1,url:$cfc,data:$formVals,success:function(result){$str="",$do_nothing=$hasErrors=!1,$error_ele=$currEle_curr_val=$currEleVal=$currEle="";for(var i=0,len=result.length;i<len;i++){if($currEle=result[i][0],$currEleVal=result[i][1],result[i][2]&&result[i][2],$currEle_curr_val="",$do_nothing=!1,"passwordChanged"==$currEle){$hasErrors=!1,$isNav?(APP.hideEle("memberPasswordResetNav"),APP.showEle("memberloginNav"),$thisForm.find("input[type=text], input[type=password], input[type=email]").val("")):(APP.hideEle("resetPasswordContainer"),APP.showEle("forgotPasswordContainer"),0),APP.setHTML("member-response-right",""),APP.hideGridDiv($formId,"member-response-right"),APP.setHTML("member-response-left",$currEleVal),APP.showGridDiv("member-response-left",""),$("div.login_container").removeClass("visuallyhidden--palm"),$("div.login_container").removeClass("visuallyhidden--lap");break}$strSingle="<p>"+$currEleVal+"</p>",($error_ele=APP.getErrorEle($formId,$currEle))&&($currEle_curr_val=$($error_ele).html()),!($do_nothing=!!($currEle_curr_val&&0<$currEle_curr_val.length&&$currEle_curr_val==$currEleVal))&&$currEleVal?(strSingle="<p>"+$currEleVal+"</p>",$($error_ele).html($strSingle),APP.addInvalidClass($formId,$currEle)):$do_nothing||($($error_ele).html(""),APP.addValidClass($formId,$currEle))}AE.forms.removeSpinGear($Target),$($Target).prop("disabled",!1),$hasErrors||$fieldToCheck||($("div.login_container").removeClass("visuallyhidden--lap"),$("div.login_container").removeClass("visuallyhidden--palm"))},error:function(){}})},addUpdateSalesforce:function(formVals){$.ajax({type:"POST",url:"/plugins/ae3/lib/Member3.cfc?method=handleSalesforce",data:formVals,dataType:"json",success:function(result){},error:function(){}})},handleSalesforceLogin:function(){$.ajax({type:"POST",url:"/plugins/ae3/lib/Member3.cfc?method=handleSalesforce_Login",success:function(result){},error:function(){}})},submitAndCheckMemberAccountForm:function($formId,$target,fieldToCheck){var cfc=APP.props.$ObjMember+"?method=checkAndSubmitAccountFormRemote",$formAction=$("#"+$formId+" input[name=form_action]").val(),$hasErrors=!1,$currEle="",$error_ele="",$currEleVal="",$currEle_curr_val=0,$do_nothing=!1,$formVals=$("#"+$formId).serialize(),$ele_guardian="";APP.setHTML("duplicateMemberMsg",""),fieldToCheck&&($formVals=$formVals+"&fieldToCheck="+encodeURIComponent(fieldToCheck)),$.ajax({type:"POST",dataType:"JSON",cache:!1,url:cfc,data:$formVals,success:function(result){for(var i=0,len=result.length;i<len;i++)$currEle=result[i][0],$currEleVal=result[i][1],$currEle_curr_val="",$do_nothing=!1,formvals=$formVals,$error_ele=APP.getErrorEle($formId,$currEle),$ele_guardian=APP.getGuardianErrorEle($formId,$currEle),$ele_guardian=$("span#"+$ele_guardian),$currEleVal?($hasErrors=!0,0<($currEle_curr_val=$($error_ele).html()).length&&$currEle_curr_val==$currEleVal&&($do_nothing=!0),$ele_guardian&&($ele_guardian.val()==$currEleVal?$do_nothing=!0:APP.removeGuardianError($formId,$currEle)),$do_nothing||($($error_ele).html($currEleVal),APP.addInvalidClass($formId,$currEle))):(APP.removeInvalidClass($formId,$currEle),$($error_ele).html(""));if($hasErrors)AE.forms.removeSpinGear($target),$($target).attr("disabled",!1),APP.scrollToErrors($formId,$target);else if("account_update"==$formAction){if(!fieldToCheck)return APP.addUpdateSalesforce($formVals),APP.loadAccountInformation(!0),AE.forms.removeSpinGear($target),$($target).attr("disabled",!1),!0}else if("account_save"==$formAction)return!fieldToCheck&&(void 0===(formvalsDes=APP.deparam(formvals)).member_emaillist&&localStorage.setItem("aeShowSubscribe",!0),$("#member_signup").submit(),!0)},error:function(){}})},showDobClear:function(){$(".ui-state-default,.ui-datepicker-title,.ui-datepicker-prev,.ui-datepicker-next").click(function(){$("span.ui-datepicker-clear-input").removeClass("visuallyhidden")})},showHide:function(show,hide){$("#"+hide).addClass("visuallyhidden"),$("#"+show).removeClass("visuallyhidden")},hideShow:function(hide,show){$("#"+hide).addClass("visuallyhidden"),$("#"+show).removeClass("visuallyhidden")},showEle:function(ele){return $("#"+ele).removeClass("visuallyhidden")},hideEle:function(ele){return $("#"+ele).addClass("visuallyhidden")},setHTML:function(ele,str){$("#"+ele).html(str)},checkIfMobile:function(){var isMobile=!1;return isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))?!0:isMobile},getErrorEle:function($formId,$ele){return"form#"+$formId+" span.errorTxt-"+$ele},getGuardianErrorEle:function($formId,$ele){return"error-message-"+$formId+"-"+$ele},removeGuardianError:function($formId,$ele){$formId="span.ui-error-message#"+("error-message-"+$formId+"-"+$ele);($formId=$($formId))&&$($formId).remove()},clearServerError:function($formId,$ele){$ele="span.ui-error-message."+("errorTxt-"+$ele);($ele=$($ele))&&$($ele).html("")},checkBlank:function($formId){for(var empty=!1,$flds=document.querySelector("#"+$formId).querySelectorAll("*[required]"),i=0;i<$flds.length;i++)$isVisible=!$flds[i].parentNode.classList.contains("visuallyhidden"),""==$flds[i].value.trim()&&$isVisible&&(APP.getErrorEle($formId,$flds[i].name)&&!$flds[i].classList.contains("validatePassword")&&($ele=$("#"+$formId+" input[name="+$flds[i].name+"]"),$error_ele=$(APP.getErrorEle($formId,$flds[i].name)),$error_ele_guardian=APP.getGuardianErrorEle($formId,$flds[i].name),$error_ele_guardian=$("span#"+$error_ele_guardian),$errorMess1=$flds[i].getAttribute("data-error-message"),$errorMess2=$flds[i].getAttribute("data-empty-message"),$errorMess=$errorMess2||$errorMess1,0!=$error_ele_guardian.length?$($error_ele).html(""):0==$error_ele.length&&0==$error_ele_guardian.length&&$ele.after('<span class="ui-error-message" id="error-message-'+$formId+"-"+$flds[i].name+'">'+$errorMess+"</span>")),$flds[i].parentElement.classList.add("ui-state-invalid"),empty=!0);return 0!=$("#"+$formId+" select.state--select:visible").parent().parent(".required").length&&($eleState=$("#"+$formId+" select.state--select:visible"),""==$($eleState).val())&&$($($eleState).parent()).addClass("ui-state-invalid"),empty},isTwoCol:function(){var isTwoCol=!1;return isTwoCol=1023<$(window).width()?!0:isTwoCol},validatePwdLegacy:function($str){var pwd={validated:!0,pwd_length:!0};return $str.length<8&&(pwd.validated=!1,pwd.pwd_length=!1),16<$str.length&&(pwd.validated=!1,pwd.pwd_length=!1),pwd},validatePwd:function($str){var pwd={validated:!0,pwd_length:!0,pwd_number:!0,pwd_special:!0,pwd_upper:!0,pwd_lower:!0};return $str&&0!=$str.length?($str.match(/[a-z]/)||(pwd.validated=!1,pwd.pwd_lower=!1),$str.match(/[A-Z]/)||(pwd.validated=!1,pwd.pwd_upper=!1),$str.match(/\d/)||(pwd.validated=!1,pwd.pwd_number=!1),$str.length<8&&(pwd.validated=!1,pwd.pwd_length=!1),16<$str.length&&(pwd.validated=!1,pwd.pwd_length=!1),$str.match(/[!=@#$%^&*-_\+\(\)?<>\.:;"'`~\|\{\}\[\]\\\/]/)||(pwd.validated=!1,pwd.pwd_special=!1),$str.match(/[!@#$%^&*()_=\[\]{};':"\\|,.<>\/?+-]/)||(pwd.validated=!1,pwd.pwd_special=!1)):(pwd.validated=!1,pwd.pwd_lower=!1,pwd.pwd_upper=!1,pwd.pwd_number=!1,pwd.pwd_length=!1,pwd.pwd_special=!1),pwd},readCookie:function($name){for(var nameEQ=$name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null},getPayOptions:function(){var cfc=APP.props.$ObjMember+"?method=getPayOptions";$.ajax({type:"GET",url:cfc,data:{remoteId:AEdata.myRemoteId},dataType:"json",success:function(result){result.CARDS&&(AEdata.CARDS=[],AEdata.CARDS=result.CARDS,APP.showCurrentCards())},error:function(){}})},getAddCardWidget:function(){var cfc=APP.props.$ObjMember+"?method=getAddCard";AEdata.account.ccWidgetUrl&&"expired"!==AEdata.account.ccWidgetUrl?APP.showAddCard(AEdata.account.ccWidgetUrl):$.ajax({type:"GET",url:cfc,data:{remoteId:AEdata.myRemoteId},dataType:"json",success:function(result){result.SUCCESS?(AEdata.account.ccWidgetUrl=result.URL,APP.showAddCard(AEdata.account.ccWidgetUrl)):APP.showAddCardWidgetFail()},error:function(){}})},toggleAddCard:function(){$(".add_card_container").hasClass("visuallyhidden")?APP.showAddCardUI():APP.hideAddCardUI()},showAddCardUI:function(){$(".add_card_container").hasClass("visuallyhidden")&&$(".add_card_container").removeClass("visuallyhidden"),$("#mycc_loader").hasClass("visuallyhidden")&&$("#mycc_loader").removeClass("visuallyhidden"),$("#noCCwidget").hasClass("visuallyhidden")||$("#noCCwidget").addClass("visuallyhidden"),$(".addNewCCToggle").text("-")},hideAddCardUI:function(){$(".add_card_container").hasClass("visuallyhidden")||$(".add_card_container").addClass("visuallyhidden"),$("#mycc_loader").hasClass("visuallyhidden")&&$("#mycc_loader").removeClass("visuallyhidden"),$("#noCCwidget").hasClass("visuallyhidden")||$("#noCCwidget").addClass("visuallyhidden"),$("#hp_cc").hasClass("visuallyhidden")||$("#hp_cc").addClass("visuallyhidden"),$(".addNewCCToggle").text("+")},hideMyCCLoader:function(){$("#mycc_loader").addClass("visuallyhidden")},showAddCard:function(widgetUrl){$("#ccWidget").hasClass("visuallyhidden")||$("#ccWidget").addClass("visuallyhidden"),$("#noCCwidget").hasClass("visuallyhidden")||$("#noCCwidget").addClass("visuallyhidden"),document.getElementById("ccWidget").src=widgetUrl,document.getElementById("ccWidget").addEventListener("load",function(){APP.hideMyCCLoader(),document.getElementById("hp_cc").classList.remove("visuallyhidden"),document.getElementById("ccWidget").classList.remove("visuallyhidden")})},showAddCardWidgetFail:function(widgetUrl){APP.hideMyCCLoader(),document.getElementById("noCCwidget").innerHTML="<h4>"+AEdata.account.oStoredPaymentLang.payment_added_failed+"</h4>",document.getElementById("noCCwidget").classList.remove("visuallyhidden")},showCurrentCards:function(){$("#editCCControl").empty(),$(".add_card_container").hasClass("visuallyhidden")||$(".add_card_container").addClass("visuallyhidden");var isDuplicateCard,savePaymentMsgDiv,savePaymentMsgClass,newCardId=localStorage.getItem("newCardId")&&_.isString(localStorage.getItem("newCardId"))?localStorage.getItem("newCardId"):"none";"none"!==newCardId&&(isDuplicateCard=!(AEdata.account.ccWidgetUrl="expired"),null!==localStorage.getItem("isDuplicate")&&(isDuplicateCard=localStorage.getItem("isDuplicate"),localStorage.removeItem("isDuplicate")),localStorage.removeItem("newCardId"),isDuplicateCard="true"===isDuplicateCard?AEdata.account.oStoredPaymentLang.payment_method_exists:AEdata.account.oStoredPaymentLang.payment_added_success,savePaymentMsgClass="","0"===newCardId&&(isDuplicateCard=AEdata.account.oStoredPaymentLang.payment_added_failed,savePaymentMsgClass='class="ui-error-message"'),(savePaymentMsgDiv=document.createElement("div")).innerHTML="<h4 "+savePaymentMsgClass+">"+isDuplicateCard+"</h4>",$("#editCCControl").append(savePaymentMsgDiv)),AEdata.CARDS.length?AEdata.CARDS.forEach(function(item,index){var cardLast4="<strong>"+item.LAST4+"</strong> ",cardExp="<strong>"+item.EXP+"</strong> ",cardType=item.CARDTYPE,cardId=item.CARDID,carLabelClass=newCardId===cardId?"current-cc-label-justadded":"current-cc-label",item=item.CARDTYPE.toLowerCase(),item=AEdata.oCClogos[item]?'<img style="flex:auto;" src="'+AEdata.oCClogos[item]+'">':"<strong>"+cardType+"</strong> ",cardType=AEdata.account.oStoredPaymentLang.txt_card_summary.replace("##cardtype##",item),item=(cardType=(cardType=cardType.replace("##last4##",cardLast4)).replace("##expdate##",cardExp),displayHTML=(displayHTML=(displayHTML='<div class="current-cc-label-wrap"><div class="'+carLabelClass+'">')+("<div>"+cardType+"</div></div>")+'<div class="current-cc-buttons">')+('<a href="#" name="btn_'+cardId+'" class="deleteCC" data-cardId="'+cardId+'" tabindex="1">'+AEdata.account.oStoredPaymentLang.button_delete+"</a>")+"</div></div>",document.createElement("div"));item.id=cardId,item.classList.add("current-cc-container"),item.innerHTML=displayHTML,$("#editCCControl").append(item)}):((savePaymentMsgClass=document.createElement("div")).innerHTML="<p>"+AEdata.account.oStoredPaymentLang.no_saved_payments+"</p>",$("#editCCControl").append(savePaymentMsgClass)),$("#editCCControl").removeClass("visuallyhidden"),$(".add_card_container").hasClass("visuallyhidden")||$(".add_card_container").addClass("visuallyhidden")},deletePaymentOption:function(cardId){var cfc=APP.props.$ObjMember+"?method=deleteStoredPayment";$.ajax({type:"GET",url:cfc,data:{remoteId:AEdata.myRemoteId,paymentId:cardId},dataType:"json",success:function(result){result.SUCCESS&&($("#editCCControl").addClass("visuallyhidden"),APP.getPayOptions())},error:function(xhr,ajaxOptions,thrownError){}})},loadAccountReservations:function(){var cfc,lookupPage;APP.props.$isInMemberAccount&&APP.props.$isLoggedIn&&$("#loaderMemberReservations").length&&(AEdata.hasOwnProperty("stMemberVoucherInfo")&&_.isObject(AEdata.stMemberVoucherInfo)&&!_.isEmpty(AEdata.stMemberVoucherInfo)?APP.renderAccountReservations(AEdata.stMemberVoucherInfo):(AEdata.stMemberVoucherLang=AEdata.stMemberVoucherLang||{},cfc=APP.props.$ObjMember+"?method=showAccountReservations",lookupPage=AEdata.stMemberVoucherLang.LOOKUP_URL||"LOOKUP_URL",$.ajax({type:"POST",url:cfc,dataType:"json",data:{lookupPage:lookupPage},success:function(result){_.isObject(result)&&!result.isEmpty()&&APP.renderAccountReservations(result)},error:function(){APP.renderAccountReservations({voucherError:!0})}})))},renderAccountReservations:function(objMemberVoucherInfo){AEdata.stMemberVoucherLang=AEdata.stMemberVoucherLang||{};var $dfAccountReservations=$(document.createDocumentFragment());(!objMemberVoucherInfo.hasOwnProperty("voucherError")||!0!==objMemberVoucherInfo.voucherError)&&objMemberVoucherInfo.hasOwnProperty("vouchers")&&_.isObject(objMemberVoucherInfo.vouchers)&&!_.isEmpty(objMemberVoucherInfo.vouchers)&&objMemberVoucherInfo.vouchers.hasOwnProperty("current")&&objMemberVoucherInfo.vouchers.hasOwnProperty("past")&&_.isArray(objMemberVoucherInfo.vouchers.current)&&_.isArray(objMemberVoucherInfo.vouchers.past)?["current","past"].forEach(function(vouchKey){var theseVouchers=objMemberVoucherInfo.vouchers[vouchKey],$thisGrid=$(document.createElement("div")).addClass("grid"),$thisGridItem=$(document.createElement("div")).addClass("grid__item one-whole palm-one-whole soft--left"),classKey="curr",langKey="CURRENT",$thisTable=("past"===vouchKey?($thisGridItem.addClass("push-half--top"),classKey="past",langKey="PAST"):"string"==typeof AEdata.stMemberVoucherLang.HEADER_RESERVATIONS_CONTENT&&""!==AEdata.stMemberVoucherLang.HEADER_RESERVATIONS_CONTENT&&$thisGridItem.append($(document.createElement("p")).append(AEdata.stMemberVoucherLang.HEADER_RESERVATIONS_CONTENT)),$thisGridItem.append($(document.createElement("h3")).append(AEdata.stMemberVoucherLang["HEADER_"+langKey]||"HEADER_"+langKey)),_.isEmpty(theseVouchers)&&$thisGridItem.append(AEdata.stMemberVoucherLang["NO_"+langKey+"_MSG"]||"NO_"+langKey+"_MSG"),$(document.createElement("table")).addClass("memres--"+classKey+"--reservations table--striped")),langKey=$(document.createElement("tr")).addClass("cardetails-smallprint memres_row");langKey.append($(document.createElement("td")).addClass("memres_puCalLabel").append($(document.createElement("label")).append(AEdata.stMemberVoucherLang.PUDATE_LABEL||"PUDATE_LABEL"))),langKey.append($(document.createElement("td")).addClass("memres_vouchLabel").append($(document.createElement("label")).append(AEdata.stMemberVoucherLang.VOUCHER_LABEL||"VOUCHER_LABEL"))),langKey.append($(document.createElement("td")).addClass("memres_puLocLabel visuallyhidden--palm").append($(document.createElement("label")).append(AEdata.stMemberVoucherLang.PULOC_LABEL||"PULOC_LABEL"))),langKey.append($(document.createElement("td")).addClass("memres_statusLabel visuallyhidden--palm").append($(document.createElement("label")).append(AEdata.stMemberVoucherLang.STATUS_LABEL||"STATUS_LABEL"))),langKey.append($(document.createElement("td")).addClass("memres_action_label numerical").append($(document.createElement("label")).append("&nbsp;"))),$thisTable.append(langKey),theseVouchers.forEach(function(thisVouch){var $thisRow=$(document.createElement("tr")).addClass("cardetails-smallprint"),$linkCell=($thisRow.append($(document.createElement("td")).addClass("memres_puCalLabel").append(thisVouch.DATE)),$thisRow.append($(document.createElement("td")).addClass("memres_vouchLabel").append(thisVouch.VOUCHNUM)),$thisRow.append($(document.createElement("td")).addClass("memres_puLocLabel visuallyhidden--palm").append(thisVouch.PICKUP)),$thisRow.append($(document.createElement("td")).addClass("memres_statusLabel visuallyhidden--palm").append(thisVouch.STATUSDISPLAY)),$(document.createElement("td")).addClass("memres_action numerical"));"past"===vouchKey||"D"===thisVouch.STATUS?$linkCell.append($(document.createElement("a")).attr("href",thisVouch.URL).append(AEdata.stMemberVoucherLang.VIEW_LINK||"VIEW_LINK")):$linkCell.append($(document.createElement("a")).attr("href",thisVouch.URL).append($(document.createElement("span")).addClass("visuallyhidden--desk visuallyhidden--desk-wide visuallyhidden--tablet visuallyhidden--lap").append(AEdata.stMemberVoucherLang.VIEW_LINK||"VIEW_LINK")).append($(document.createElement("span")).addClass("visuallyhidden--palm").append(AEdata.stMemberVoucherLang.VIEW_LINK||"VIEW_MODIFY_LINK"))),$thisRow.append($linkCell),$thisTable.append($thisRow)}),$thisGridItem.append($thisTable),$dfAccountReservations.append($thisGrid.append($thisGridItem))}):$dfAccountReservations.append(APP.renderAccountReservationLookupError()),$("#toggleeMemberReservations").html($dfAccountReservations)},renderAccountReservationLookupError:function(){return AEdata.stMemberVoucherLang=AEdata.stMemberVoucherLang||{},$(document.createElement("div")).addClass("grid").append($(document.createElement("div")).addClass("grid__item one-whole palm-one-whole soft--left").append(AEdata.stMemberVoucherLang.VOUCHER_LOOKUP_ERROR||"VOUCHER_LOOKUP_ERROR"))},deparam:function(query){var pairs,i,key,keyValuePair,map={};if(""!==(query="?"===query.slice(0,1)?query.slice(1):query))for(pairs=query.split("&"),i=0;i<pairs.length;i+=1)keyValuePair=pairs[i].split("="),key=decodeURIComponent(keyValuePair[0]),keyValuePair=1<keyValuePair.length?decodeURIComponent(keyValuePair[1]):void 0,map[key]=keyValuePair;return map}};return APP}(),(AE=AE||{}).modal=AE.modal||function(){var APP={init:function(){APP.props={$modalLink:$("a.open_modal_page"),$devheight:$(window).height(),$devWidth:$(window).width()},APP.props.$modalLink.on("click",function(e){e.preventDefault();e=$(e.target).attr("data-url");APP.openPageModal(e)})},openPageModal:function(strUrl){var currFontSize=$("html").css("font-size");mheight=APP.props.$devWidth<701?(mwidth=.9*APP.props.$devWidth,.9*APP.props.$devheight):(mwidth=700<APP.props.$devWidth&&APP.props.$devWidth<1e3?"550":"650","700"),$.post(strUrl,function(data){$("#dialog-modal-page").html(data),$("#dialog-modal-page").dialog("open")},"html"),$("#dialog-modal-page").dialog({resizable:!1,autoOpen:!1,modal:!0,width:mwidth,height:mheight,open:function(){jQuery(".ui-widget-overlay").bind("click",function(){jQuery("#dialog-modal-page").dialog("close")})}}).css("font-size",currFontSize)}};return APP}()}function initMap(){}(AE=AE||{}).customerService=AE.customerService||function(){var APP={init:function(){APP.props={$customerServiceForm:$("#customerForm"),$serviceFormType:$("#customerForm").data("serviceformtype"),noEBSites:["AUS","DAU","DNZ","NZL","DAP","GCR","RAU","RNZ","PEU"],allowExcessBreakdown:!0,siteList:["AEM","AOR","AUS","AUT","BEL","BFR","BRA","CHE","CHF","CHI","DAP","DAU","DEU","DNK","DNZ","ESL","ESP","EUR","FIN","FRA","GBR","GCR","HKG","HRV","IRL","ITA","NAL","NLD","NOR","NZL","PEU","POL","RAU","RNZ","RUS","SWE","TUR","TWN","ZAF","US","CA","CAE","KEM","URC","ERC","ATP"],formOnVoucher:$("body").is("#mybooking"),hasAltERFields:["EU","GB","US","CA","AU","NZ"].includes($("#customerForm").data("serviceformorigin"))};for(var i=0;i<APP.props.noEBSites.length;i++)$("body").hasClass("site--"+APP.props.noEBSites[i])&&(APP.props.allowExcessBreakdown=!1);$("#charactersLeft span").text(APP.props.commentsMaxChars),$("#comments, .has-max-counter").on("keyup",function(){APP.characterCounter($(this).parent())}),AEdata.customerservice&&"submit"!=AEdata.customerservice.formAction?(AEdata.customerservice.showGenericUploadFields?(APP.formFineUploaderInstance("file_upload"),APP.formFineUploaderInstance("file_upload2"),APP.formFineUploaderInstance("file_upload3"),APP.formFineUploaderInstance("file_upload4")):(APP.props.formOnVoucher&&APP.props.hasAltERFields?(APP.formFineUploaderInstance("file_accidentReport"),APP.formFineUploaderInstance("file_policeReport"),APP.formFineUploaderInstance("file_checkInOutReport"),APP.formFineUploaderInstance("file_picDamageOne"),APP.formFineUploaderInstance("file_picDamageTwo"),APP.formFineUploaderInstance("file_picDamageThree"),APP.formFineUploaderInstance("file_picDamageFour"),APP.formFineUploaderInstance("file_ccStatementER"),APP.formFineUploaderInstance("file_suppDocsER"),APP.formFineUploaderInstance("file_rentalAgreementER"),APP.formFineUploaderInstance("file_finalInvoiceER")):APP.props.allowExcessBreakdown&&APP.formFineUploaderInstance("file_excessRefund"),APP.formFineUploaderInstance("file_picDamage"),APP.formFineUploaderInstance("file_ccStatement"),APP.formFineUploaderInstance("file_origVoucher"),APP.formFineUploaderInstance("file_fuelReceit"),APP.formFineUploaderInstance("file_finalInvoice"),APP.formFineUploaderInstance("file_rentalAgreement"),APP.formFineUploaderInstance("file_addCharges"),APP.formFineUploaderInstance("file_addCharges_2"),APP.formFineUploaderInstance("file_tireRepair"),APP.formFineUploaderInstance("file_suppDocs"),APP.props.allowExcessBreakdown&&APP.formFineUploaderInstance("file_breakdownProtection"),AEdata.customerservice.showOtherUploadFields&&(APP.formFineUploaderInstance("file_upload"),APP.formFineUploaderInstance("file_upload2"),APP.formFineUploaderInstance("file_upload3"))),$("div.qq-upload-button div").text(AEdata.customerservice.pageText_chooseFile),$("div.qq-upload-remove-button").text(AEdata.customerservice.pageText_removeFile),$("div.qq-uploader-selector.qq-uploader").attr("qq-drop-area-text",AEdata.customerservice.pageText_dropFile),"haserror"==AEdata.customerservice.formAction&&APP.props.formOnVoucher&&APP.jumpToClaimForm()):AEdata.customerservice&&"submit"==AEdata.customerservice.formAction&&APP.props.formOnVoucher&&APP.jumpToClaimForm(),$(".fileUP label, .linkUP label").mouseenter(function(){$(this).siblings(".uploadHover").show()}),$(".fileUP label, .linkUP label").mouseleave(function(){$(this).siblings(".uploadHover").hide()});var selLoad=$("#inquiry_type option:selected").attr("upload");APP.setInquiryType(selLoad),$("#inquiry_type").on("change",function(){var selChange=$("#inquiry_type option:selected").attr("upload");APP.setInquiryType(selChange)}),"AUS"===APP.props.$serviceFormType&&APP.changeCity("both"),$("body").on("click",function(event){var ererror,$target=$(event.target);$target.hasClass("qq-upload-remove-button")&&APP.resetFileUploadInput($target.closest(".file_upload").prev(".file_upload_filename")),$target.is("#cs_form_submit")?(_.contains(APP.props.siteList,AE.props.siteCode)&&($("#errorHead").hide(),$("#suppdocsError").hide(),$("#addchargesError").hide(),$("#ccstatementError").hide(),$("#originalvouchError").hide(),$("#fuelrefundError").hide(),$("#excessrefundError").hide(),$("#breakdownprotectionError").hide(),$("#tirereceiptError").hide(),$("#addchargesError").hide(),"DC"==$("#inquiry_type").val()&&""==$("#file_ccStatement").val()&&($target.addClass("off"),$("#errorHead").show(),$("#ccstatementError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"DC"==$("#inquiry_type").val()&&""==$("#file_suppDocs").val()&&($target.addClass("off"),$("#errorHead").show(),$("#suppdocsError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"BP"==$("#inquiry_type").val()&&""==$("#file_ccStatement").val()&&($target.addClass("off"),$("#errorHead").show(),$("#ccstatementError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"BP"==$("#inquiry_type").val()&&""==$("#file_suppDocs").val()&&($target.addClass("off"),$("#errorHead").show(),$("#suppdocsError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"BP"==$("#inquiry_type").val()&&""==$("#file_breakdownProtection").val()&&($target.addClass("off"),$("#errorHead").show(),$("#breakdownprotectionError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"TR"==$("#inquiry_type").val()&&""==$("#file_tireRepair").val()&&($target.addClass("off"),$("#errorHead").show(),$("#tirereceiptError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"ND"==$("#inquiry_type").val()&&""==$("#file_addCharges").val()&&($target.addClass("off"),$("#errorHead").show(),$("#addchargesError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"UC"==$("#inquiry_type").val()&&""==$("#file_ccStatement").val()&&($target.addClass("off"),$("#errorHead").show(),$("#ccstatementError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),APP.props.hasAltERFields&&APP.props.formOnVoucher?"ER"==$("#inquiry_type").val()?(ererror=!1,$("#police_report_yes").is(":checked")&&""==$("#file_policeReport").val()?(ererror=!0,$("#policeReportError").show()):$("#policeReportError").hide(),$("#customer_consent").is(":checked")?($("#customer_consent").removeClass("haserror"),$("#consentError").hide()):(ererror=!0,$("#customer_consent").addClass("haserror"),$("#consentError").show()),ererror?($target.addClass("off"),$("#errorHead").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})):($("#customer_consent").removeClass("haserror"),$("#policeReportError, #consentError").hide())):$("#policeReportError, #consentError").hide():("ER"==$("#inquiry_type").val()&&""==$("#file_ccStatement").val()&&($target.addClass("off"),$("#errorHead").show(),$("#ccstatementError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"ER"==$("#inquiry_type").val()&&""==$("#file_suppDocs").val()&&($target.addClass("off"),$("#errorHead").show(),$("#suppdocsError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"ER"==$("#inquiry_type").val()&&""==$("#file_excessRefund").val()&&APP.props.allowExcessBreakdown&&($target.addClass("off"),$("#errorHead").show(),$("#excessrefundError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"}))),"BD"==$("#inquiry_type").val()&&""==$("#file_addCharges").val()&&($target.addClass("off"),$("#errorHead").show(),$("#addchargesError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"BD"==$("#inquiry_type").val()&&""==$("#file_suppDocs").val()&&($target.addClass("off"),$("#errorHead").show(),$("#suppdocsError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"DU"==$("#inquiry_type").val()&&""==$("#file_ccStatement").val()&&($target.addClass("off"),$("#errorHead").show(),$("#ccstatementError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"FR"==$("#inquiry_type").val()&&""==$("#file_ccStatement").val()&&($target.addClass("off"),$("#errorHead").show(),$("#ccstatementError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"FR"==$("#inquiry_type").val()&&""==$("#file_fuelReceit").val()&&($target.addClass("off"),$("#errorHead").show(),$("#fuelrefundError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"CI"==$("#inquiry_type").val()&&""==$("#file_ccStatement").val()&&($target.addClass("off"),$("#errorHead").show(),$("#ccstatementError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"CB"==$("#inquiry_type").val()&&""==$("#file_origVoucher").val()&&($target.addClass("off"),$("#errorHead").show(),$("#originalvouchError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),"CB"==$("#inquiry_type").val())&&""==$("#file_ccStatement").val()&&($target.addClass("off"),$("#errorHead").show(),$("#ccstatementError").show(),$("#cs_headline")[0].scrollIntoView({behavior:"smooth",block:"start"})),event.preventDefault(),$target.hasClass("off")||($target.prop("disabled",!0),APP.props.$customerServiceForm.submit()),_.contains(APP.props.siteList,AE.props.siteCode)&&($target.removeClass("off"),setTimeout(()=>{$target.prop("disabled",!1)},5e3))):$("#cs_form_submit").prop("disabled",!1)}),$("body").on("change",'.has-subsection input[type="radio"]',function(){APP.toggleRESubsection($(this).attr("name"))})},jumpToClaimForm:function(){$("#btSubmitClaim").addClass("open").removeClass("closed"),$("#toggleeClaim").removeClass("visuallyhidden");var st=$("#scroll-content").scrollTop()-20;$("#scroll-content").scrollTop($("#bookingSubmitClaim").offset().top+st)},resetFileUploadInput:function(fileUploadInput){var formfield=fileUploadInput.attr("id");$("input#"+formfield).val(""),$("#upload_block-"+formfield+" .qq-upload-remove-button").hide(),$("#upload_block-"+formfield+" .qq-upload-button").show(),fileUploadInput.next(".file_upload").find("li").remove(),void 0!==AEdata.customerservice&&fileUploadInput.next(".file_upload").find(".qq-uploader-selector").attr("qq-drop-area-text",AEdata.customerservice.pageText_dropFile),void 0!==AEdata.beatrate&&fileUploadInput.next(".file_upload").find(".qq-uploader-selector").attr("qq-drop-area-text",AEdata.beatrate.pageText_dropFile)},setDOCode:function(thispucode){document.getElementById("docode").value=thispucode},characterCounter:function($el){var len=$el.find("textarea").val().length,commentsMaxChars=$el.find("textarea").attr("maxlength")?parseInt($el.find("textarea").attr("maxlength")):500,ch=commentsMaxChars-len;commentsMaxChars<len?($el.find(".charactersLeft span").text("0"),$el.find(".charactersLeft").addClass("color9"),$el.removeClass("ui-state-valid").addClass("ui-state-invalid")):($el.find(".charactersLeft span").text(ch),$el.find(".charactersLeft").removeClass("color9"),$el.removeClass("ui-state-invalid"))},setInquiryType:function(selType){$(".fileUP, .linkUP, .csfield").addClass("visuallyhidden"),"ER"==selType&&"GB"==AE.props.chaosSystem?($("#ERUKMSG").show(),$(".inquiry-comments, .sendrequest-btn").hide()):($("#ERUKMSG").hide(),$(".inquiry-comments, .sendrequest-btn").show(),$(".fileUP").removeClass("required"),$(".csfield [required]").removeAttr("required"),"ER"==selType&&!APP.props.hasAltERFields||($(".fileUP."+selType+", .linkUP."+selType+", .csfield."+selType).removeClass("visuallyhidden"),$(".fileUP."+selType).addClass("required"),$(".csfield."+selType+" .required input, .csfield."+selType+" .required textarea, .csfield."+selType+" .required select").prop("required",!0),$(".fileUP."+selType+".notreq").removeClass("required")),"ER"!=selType||"AU"==AE.props.chaosSystem&&"NZ"==AE.props.chaosSystem||($(".fileUP."+selType+", .linkUP."+selType+", .csfield."+selType).removeClass("visuallyhidden"),$(".fileUP."+selType).addClass("required"),$(".csfield."+selType+" .required input, .csfield."+selType+" .required textarea, .csfield."+selType+" .required select").prop("required",!0),$(".fileUP."+selType+".notreq").removeClass("required")),"ER"==selType&&APP.props.hasAltERFields?("GB"!=AE.props.chaosSystem?$(".YES_ER").show():$(".YES_ER").hide(),$(".NO_ER").hide()):($(".YES_ER").hide(),$(".NO_ER").show())),"/customerservice/"==window.location.pathname&&($(".inquiry_type_option").hide(),$(".inquiry_type_option .bank_number").length)&&void(document.querySelector(".inquiry_type_option .bank_number").required=0)!==selType&&($(".inquiry_type_option."+selType).show(),null!==(selType=document.querySelector(".inquiry_type_option."+selType+" .bank_number")))&&(selType.required=1)},toggleRESubsection:function(subsection){"YES"==$('.has-subsection [name="'+subsection+'"]:checked').val()?($('.form-subsection[data-parent="'+subsection+'"]').css("display","none").removeClass("visuallyhidden").slideDown(),"police_report"==subsection&&$("#noPoliceReport").hide()):($('.form-subsection[data-parent="'+subsection+'"]').slideUp(function(){$(this).addClass("visuallyhidden")}),"police_report"==subsection&&$("#noPoliceReport").show())},changeCity:function(menuType){},formFineUploaderInstance:function(formfield){new qq.FineUploader({multiple:!1,element:document.getElementById("upload_block-"+formfield),template:"qq-simple-thumbnails-template",request:{endpoint:"/plugins/ae3/modules/customerservice/image-uploader.cfc?method=uploadSingleFile"},retry:{enableAuto:!0},thumbnails:{placeholders:{waitingPath:"/plugins/ae3/modules/customerservice/fine_uploader/processing.gif",notAvailablePath:"/plugins/ae3/modules/customerservice/fine_uploader/placeholders/not_available-generic.png"}},validation:{itemLimit:1,sizeLimit:AEdata.customerservice.maxSingleFileSize,allowedExtensions:AEdata.customerservice.allowedFileExtensions},messages:{typeError:AEdata.customerservice.errorMessageFileType,sizeError:AEdata.customerservice.errorMessageFileSize},callbacks:{onUpload:function(id,name){$("#cs_form_submit").addClass("off")},onComplete:function(id,name,responseJSON){responseJSON.success&&($("input#"+formfield).val(responseJSON.server_filename),$("#upload_block-"+formfield+" .qq-upload-button").hide(),$("#upload_block-"+formfield+" .qq-upload-remove-button").show(),$("#cs_form_submit").removeClass("off"))}}})}};return APP}(),AE.customerService.init(),(AE=AE||{}).forms=AE.forms||function(){var APP={init:function(){APP.props={$autoForms:$(".trg__form--AutoPost"),$validateForm:$("form.validate"),$moreInfoBtn:$(".info-icon"),$ageMin:25,$ageMax:69,$ageInfoBtn:$(".age-info-icon"),$ageInfoText:$(".age-info-text"),$modalCloseBtn:$(".ui-icon-close-modal").parent(".ui-dialog-titlebar-close"),$groupCheckboxes:$("form #carcategory"),$groupCheckinputs:$('form #carcategory input[type="checkbox"]'),$checkboxes:$('form input[type="checkbox"]'),$paymentRequire:$("#ae-checkout #cardnumber"),$debitRequire:$("#ae-checkout #ddaccount"),$payOptional:$("#ae-checkout .payment_form").attr("pay_optional"),$formLabels:$("form label"),checkoutPassedAjax:!0,loginInputValid:!0,$isInMemberAccount:"member-accounts"==window.location.pathname.split("/")[1]},APP.applyGuardian(APP.props.$validateForm),AE.ui.addBodyClickTask({func:APP.onBodyClick}),AE.ui.addBodyChangeTask({func:APP.onBodyChange}),APP.props.$formLabels.on("click",function(event){$(this).hasClass("more-info-tip")&&event.preventDefault()}),$("input#file_compquote").length&&APP.formFineUploaderInstance("file_compquote","beatrate"),$("#tbiPromo").blur(function(){0!=$("#tbiPromo").length&&(0!=$('input[name="tbiPromo"]').val().length?(jsonToCheck={pcode:$('input[name="tbiPromo"]').val()},$("#submitForm").attr("disabled",!0),$.ajax({url:"/plugins/ae3/lib/BookingAjax.cfc?method=validateTBIPromo",type:"GET",dataType:"json",data:jsonToCheck}).done(function(data){isValidTBIPromo=data,$("#submitForm").attr("disabled",!1),!1===data?($('input[name="tbiPromo"]').parent().removeClass("ui-state-valid").addClass("ui-state-invalid"),$("#tbi_promo_error").show()):$("#tbi_promo_error").hide()}).fail(function(){$("#submitForm").attr("disabled",!1)})):$("#tbi_promo_error").hide())}),APP.props.$moreInfoBtn.on("click",function(event){event.preventDefault();event=$(event.target).hasClass("fa")?$(event.target):$(event.target).children("i");AE.ui.dialog.launch({type:"infoTip",pos:{my:"left bottom",at:"right top",of:event},selector:event.parent().siblings(".info-text")})}),AEdata.hasOwnProperty("checkout")&&AEdata.checkout.hasOwnProperty("rq")&&!1===AEdata.checkout.rq&&(APP.props.$paymentRequire.on("change",function(event){""!==APP.props.$paymentRequire.val()?($("#cardname,#cardnumber,#cvc,#address1,#zip,#cityb").prop("required","required").parent().addClass("required").removeClass("ui-state-valid ui-state-invalid"),$("#expmonth,#expyear").prop("required","required").parent().removeClass("ui-state-valid ui-state-invalid"),$("#expmonth").parent().parent().addClass("required"),$("#country,#state").parent().removeClass("ui-state-valid ui-state-invalid").parent().addClass("required")):($("#cardname,#cardnumber,#cvc,#address1,#zip,#cityb").prop("required","").parent().removeClass("required").removeClass("ui-state-valid ui-state-invalid"),$("#expmonth,#expyear").prop("required","").parent().removeClass("ui-state-valid ui-state-invalid"),$("#expmonth").parent().parent().removeClass("required"),$("#country,#state").parent().removeClass("ui-state-valid ui-state-invalid").parent().removeClass("required"))}),APP.props.$debitRequire.on("change",function(event){""!==APP.props.$debitRequire.val()?($("#ddaccount,#ddname,#ddbank,#address1,#zip,#cityb").prop("required","required").parent().addClass("required").removeClass("ui-state-valid ui-state-invalid"),$("#expmonth,#expyear").prop("required","required").parent().removeClass("ui-state-valid ui-state-invalid"),$("#expmonth").parent().parent().addClass("required"),$("#country,#state").parent().removeClass("ui-state-valid ui-state-invalid").parent().addClass("required")):($("#ddaccount,#ddname,#ddbank,#address1,#zip,#cityb").prop("required","").parent().removeClass("required").removeClass("ui-state-valid ui-state-invalid"),$("#expmonth,#expyear").prop("required","").parent().removeClass("ui-state-valid ui-state-invalid"),$("#expmonth").parent().parent().removeClass("required"),$("#country,#state").parent().removeClass("ui-state-valid ui-state-invalid").parent().removeClass("required"))})),APP.props.$checkboxes.on("click",function(event){var theForm=$(event.target).closest("form")[0];"ae-search"!==theForm.id&&$(theForm).guardian().validateCheckbox($(event.target))}),"FCR"===AE.props.siteCode?APP.props.$spinGear=$(document.createDocumentFragment()).append('<div class="ui--loading-results indeterminate-circle-sm" aria-hidden="true"><svg version="1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="0 0 24 24"><path id="indeterminate" d="M12 3.25A8.75 8.75 0 1 1 3.25 12" fill="none" stroke-width="2.5" stroke-linecap="square" stroke="#ffffff"/></svg></div>'):APP.props.$spinGear=$(document.createDocumentFragment()).append($(document.createElement("i")).addClass("ui--loading-results fa fa-cog fa-spin fa-2x fa-fw").attr("aria-hidden",!0)),$("#br_carclass").change(function(){"Other"===$("#br_carclass").val()?$("#carother").prop("required","required").parent().addClass("required").removeClass("ui-state-valid ui-state-invalid"):$("#carother").prop("required","").parent().removeClass("ui-state-valid ui-state-invalid").parent().removeClass("required")}),$("#gpsTNC--Y").on("click",function(){$("#gpsreqbtn").removeClass("visuallyhidden"),$("#gpsTNCchk").removeClass("fa-square").addClass("fa-check-square"),$("#rental_termsDialog_Gps").dialog("close")})},applyGuardian:function($forms){$forms.each(function(){$(this).guardian({extend:function(){this.addPattern({alnum:/^[a-zA-Z0-9]+$/}),this.addPattern({alnumsp:/^[a-zA-Z0-9\-\s]+$/}),this.addPattern({numsp:/^[0-9\s]+$/}),this.addPattern({alnumspdot:/^[a-zA-Z0-9\.\-\s]+$/}),this.addPattern({alnumspecial:/^[a-zA-Z0-9\s\_\&()`.+,\/'-]*$/}),this.addPattern({alphasp:/^[a-z_'& \-]+$/i}),this.addPattern({anything:/.+/}),this.addPattern({anythingcheckout:/^(?!.*[="<>&]).*$/}),this.addPattern({email:/^(?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),this.addPattern({hexcolor:/#?[a-fA-F0-9]{3,6}/}),this.addPattern({lead0num:/^[0-9]+$/}),this.addPattern({notblank:/^(?!\s*$).+/}),this.addPattern({notblankcheckout:/^(?!\s*$)([^="<>&]+)$/}),this.addPattern({wphone:/^(?!\s)(?:\+\d{1,3}|0\d{1,3}|00\d{1,2})?(?:\s?\(\d+\))?(?:[-\/\s.]|\d)+$/}),this.addPattern({aunzphone:/(?:\+?\)?\(?\s?\-?\d){8,}/}),this.addPattern({url:/^(http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:\/?#[\]@!\$&'\(\)\*\+,;=.]+\s*$/}),this.addPattern({ae_affiliatepassword:/^.{8,16}/}),this.addPattern({ae_currency:/^(\d+)+(,?\d{3})*(\.\d{2})?$/}),this.addPattern({ae_memberage:/^(1[89]|[2-9]{1}\d{1})$/}),this.addPattern({ae_membername:/^[\w]{3,15}$/}),this.addPattern({ae_memberpassword:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^0-9a-zA-Z]).{8,16}$/});-1!=["AUS","NZL"].indexOf(oSite.siteCode)?this.addPattern({ae_numericdate:/^(0?[1-9]{1}|(1|2)[0-9]|3(0|1))(-|\s|\/|\.)?((0?[1-9]{1})|(10|11|12))(-|\s|\/|\.|,\s)?(19|20)?\d\d$/i}):this.addPattern({ae_numericdate:/^((0?[1-9]{1})|(10|11|12))(-|\s|\/|\.)?(0?[1-9]|(1|2)[0-9]|3(0|1))(-|\s|\/|\.|,\s)?(19|20)?\d\d$/i}),this.addPattern({ae_postalcode:/^[a-zA-Z0-9\-\s]{4,10}\s*$/}),this.addPattern({ae_voucher:/^([a-zA-Z]{2,3})?(\d+)(\-.*)?\s*$/})},before:function(el){var addGroup;void 0!==this.$groups.carcategory&&(addGroup={carcategory:!1},_.extend(this.$inputs,addGroup)),"undefined"!=typeof checkoutSubmitBtn&&checkoutSubmitBtn.hasOwnProperty("billingrequired")&&"default"!==checkoutSubmitBtn.billingrequired&&APP.setBillingInputRequiredStatus(["zip","country","cityb","address1","state"],checkoutSubmitBtn.billingrequired)},validateMatch:function(el){var name=el.attr("name"),val=el.val(),match=$("#"+el.data("match-input")),noCase=!!$("#"+el.data("match-nocase"));return this.$inputs[name]=!0,!el.attr("required")||(noCase?val===match.val():val.toUpperCase()===match.val().toUpperCase())&&""!=val||(this.$inputs[name]=!1),this.validationHandler(el),this.$inputs[name]},validateSelect:function(el){var selectValid="ui-state-valid",addInput={},state=(addInput[el[0].name]=!0,$(el).attr("required")&&(""===$(el).val()?addInput[el[0].name]=!(selectValid="ui-state-invalid"):selectValid="ui-state-valid"),el[0]);$(state).hasClass("state--select")&&($(el).hasClass("state_dd_hide")&&(selectValid="",void 0!==this.$inputs.state&&delete this.$inputs.state,delete addInput[el[0].name]),""!==$(el).val()||$(el).hasClass("state_dd_hide")||($(el).parent().parent().hasClass("required")||$(el).prop("required"))&&($(el).parent().removeClass("ui-state-valid"),addInput[el[0].name]=!(selectValid="ui-state-invalid"))),$(el).parent().addClass(selectValid),_.extend(this.$inputs,addInput)},validateCheckbox:function(el){var addInput,checkedCount;$(el).hasClass("terms_conditions")&&((addInput={})[el[0].name]=!0,$(el).is(":checked")?$(el).parent().removeClass("ui-state-invalid"):($(el).parent().addClass("ui-state-invalid"),addInput[el[0].name]=!1),_.extend(this.$inputs,addInput)),"carcategory"===$(el).data("group")&&void 0!==$(el).data("group")&&($(APP.props.$groupCheckboxes).removeClass("ui-state-invalid").removeClass("ui-state-valid"),checkedCount=0,APP.props.$groupCheckinputs.each(function(){$(this).is(":checked")&&(checkedCount+=1)}),this.$groups.carcategory.count=checkedCount,0<this.$groups.carcategory.count?($(APP.props.$groupCheckboxes).addClass("ui-state-valid"),this.$inputs.carcategory=!0):($(APP.props.$groupCheckboxes).addClass("ui-state-invalid"),this.$inputs.carcategory=!1))},validateFile:function(el){var addInput={};(addInput[el[0].name]=!0)===$(el).prop("required")&&""===$(el).val()?($(el).parent().addClass("ui-state-invalid"),addInput[el[0].name]=!1):$(el).parent().removeClass("ui-state-invalid"),_.extend(this.$inputs,addInput)},validateCheckout:function(el,disableSubmit){var $dfd=$.Deferred(),addInput={};APP.props.checkoutPassedAjax=!0,$("#ta__block--details .ui-state-invalid").length&&($("#ta__block--details .toggle_pm_header.toggler:not(.open)").click(),$("#ta__block--details input").change()),"undefined"!=typeof checkoutSubmitBtn&&($(checkoutSubmitBtn.clicked).prop("disabled",disableSubmit||!1),$(checkoutSubmitBtn.notclicked).prop("disabled",disableSubmit||!1),APP.addSpinGear($(checkoutSubmitBtn.clicked))),0!=$(el.find('input[name="tbiPromo"]')).length&&0!=$(el.find('input[name="tbiPromo"]')).val().length&&!1===isValidTBIPromo&&($(el.find('input[name="tbiPromo"]')).parent().removeClass("ui-state-valid").addClass("ui-state-invalid"),el.guardian().$inputs.tbiPromo=!1,$("#tbi_promo_error").show()),$dfd.done(function(){_.extend(el.guardian().$inputs,addInput),APP.props.checkoutPassedAjax=!_.contains(_.values(el.guardian().$inputs),!1),!1===el.guardian().$inputs.email&&$(el.find('input[name="email"]')).parent().removeClass("ui-state-valid").addClass("ui-state-invalid"),!1===el.guardian().$inputs.cardnumber&&$(el.find('input[name="cardnumber"]')).parent().removeClass("ui-state-valid").addClass("ui-state-invalid"),el.find('button[type="submit"]').prop("disabled",APP.props.checkoutPassedAjax),APP.props.checkoutPassedAjax?(device&&"tablet"==device.type?$("input#deviceGroup").val("WT"):device&&"mobile"==device.type&&$("input#deviceGroup").val("WP"),el.addClass("ae-checkout--bypassAjax").submit()):($(".ui-state-invalid").first().find("input").focus(),APP.removeSpinGear(el.find('button[type="submit"]')))}),0!=$(el.find('input[name="cardnumber"]')).length&&0!=$(el.find('input[name="cardnumber"]')).val().length&&(addInput={cardnumber:APP.validateCreditCard($(el.find('input[name="cardnumber"]')).val())}),$dfd.resolve()},validateAccountLogin:function(el,disableSubmit){APP.props.loginInputValid=!0,el.find('button[type="submit"]').prop("disabled",disableSubmit||!1),APP.props.loginInputValid?$.ajax({type:"POST",url:"/plugins/ae3/lib/Member3.cfc",data:{method:"isValidLogin",email:$("#account_login_form").find('input[name="member_username"]').val(),password:$("#account_login_form").find('input[name="member_password"]').val()},dataType:"json",success:function(result){var $oStored,tmpAge;AE.account.setHTML("member-response-right",""),AE.account.hideGridDiv("account_login_form","member-response-right"),result.RESULT?(AE.account.handleSalesforceLogin(),""!=result.AGE&&APP.handleLoginAge(result.AGE),APP.props.loginInputValid=!0,void 0!==result.showSubscribe&&1==result.showSubscribe&&"/checkout/"!==window.location.pathname&&"/payment/"!==window.location.pathname&&localStorage.setItem("aeShowSubscribe",!0),AEdata&&AEdata.booking&&AEdata.booking.state&&AEdata.booking.state.step?("bookform"==AEdata.booking.state.step&&($oStored=JSON.parse(localStorage.getItem("aeSearch")))&&$oStored.searchAgeCheckbox&&40==$oStored.searchAge&&($oStored.showFillAgeCheckout=!1,localStorage.setItem("aeSearch",JSON.stringify($oStored))),"/confirmation/"!==window.location.pathname&&AEdata.booking.quote&&AEdata.booking.quote.oQuote&&($("html").hasClass("ua-ios")||AEdata.booking.quote.oQuote.oRules&&AEdata.booking.quote.oQuote.oRules.applyMemberDU)?(AE.ui.search.autocomplete.setFromQuote({loggedInAt:AEdata.booking.state.step,searchAge:result.AGE}),AE.ui.search.formSubmit(!0)):AE.props.useWEBAE3_4453&&"/confirmation/"===window.location.pathname?window.location.href="/member-accounts/":"/results/"===window.location.pathname?(tmpAge=40,tmpAge=($oStored=JSON.parse(localStorage.getItem("aeSearch")))&&!$oStored.searchAgeCheckbox?$oStored.searchAge:result.AGE,AE.ui.search.autocomplete.setFromQuote({loggedInAt:AEdata.booking.state.step,searchAge:tmpAge}),AE.ui.search.formSubmit(!0)):window.location.reload()):AE.props.useWEBAE3_4453?window.location.href="/member-accounts/":window.location.reload()):(result.CHANGEPASSWORD?(APP.handleLoginChangePassword(result.MESS,result.UID),APP.removeSpinGear($("#account_login_button")),AE.ui.enableClicks(),el.find('button[type="submit"]').prop("disabled",!1)):(APP.props.loginInputValid=!1,AE.account.showEle("forgotPasswordContainer"),$("#member-response-left").html()!=result.MESS&&(AE.account.setHTML("member-response-left",result.MESS),AE.account.showGridDiv("member-response-left",""))),APP.removeSpinGear($("#account_login_form").find('button[type="submit"]')),AE.ui.enableClicks(),el.find('button[type="submit"]').prop("disabled",!1))},error:function(result){console.log("Error Hit"),APP.props.loginInputValid=!1,$("#account_login_form").find('input[name="member_username"]').parent().removeClass("ui-state-valid").addClass("ui-state-invalid"),$("#account_login_form").find('input[name="member_password"]').parent().removeClass("ui-state-valid").addClass("ui-state-invalid"),$(".ui-state-invalid").first().find("input").focus(),$("#account_login_form").find('button[type="submit"]').prop("disabled",!1),APP.removeSpinGear($("#account_login_form").find('button[type="submit"]'))}}):($(".ui-state-invalid").first().find("input").focus(),$("#account_login_form").find('button[type="submit"]').prop("disabled",!1))},failure:function(){return $(".ui-state-invalid").first().find("input").focus(),"ae-checkout"===this.$el[0].id&&this.validateCheckout($(this.$el[0]),!1),"frEmailMod"===this.$el[0].id&&$("#btEmailModSubmit").prop("disabled",!1),"frSimpleMod"===this.$el[0].id?(event.preventDefault(),$("#btSimpleModSubmit").prop("disabled",!1),!0):"frConvert"===this.$el[0].id?(event.preventDefault(),$("#btConvertSubmit").prop("disabled",!1),!0):"frElecPayment"===this.$el[0].id?(APP.removeSpinGear($("#btElecPaymentSubmit")),event.preventDefault(),$("#btElecPaymentSubmit").prop("disabled",!1),!0):("frCancel"===this.$el[0].id&&$("#btCancel").prop("disabled",!1),"account_login_form"===this.$el[0].id&&this.validateAccountLogin($(this.$el[0]),!0),!1)},success:function(){if("FCR"===AE.props.siteCode&&this.$el.find("fcr--btn-anim"))return AE.ui.disableClicks(),APP.addSpinGear(this.$el.find("button.fcr--btn-anim")),!("fcr-checkout"===this.$el[0].id&&!$(this.$el[0]).hasClass("ae-checkout--bypassAjax")&&(this.validateCheckout($(this.$el[0]),!0),1));if(this.$el.hasClass("frmVoucherLookup")||this.$el.is("#account_lookup_form")||this.$el.is("#frSimpleMod")||this.$el.is("#frConvert")||this.$el.is("#frElecPayment")||this.$el.is("#customerForm"))AE.ui.disableClicks(),APP.addSpinGear(this.$el.find("button.btn--primary"));else if("account_login_form"===this.$el[0].id)AE.ui.disableClicks(),APP.addSpinGear($(this.$el[0]).find('button[type="submit"]')),this.validateAccountLogin($(this.$el[0]),!0);else{if("ae-checkout"===this.$el[0].id&&!$(this.$el[0]).hasClass("ae-checkout--bypassAjax"))return"undefined"!=typeof checkoutSubmitBtn&&APP.addSpinGear($(checkoutSubmitBtn.clicked)),this.validateCheckout($(this.$el[0]),!0),!1;var $button;"frEmailMod"===this.$el[0].id?$("#btEmailModSubmit").prop("disabled",!0):"frSimpleMod"===this.$el[0].id?$("#btSimpleModSubmit").prop("disabled",!0):"frConvert"===this.$el[0].id?$("#btConvertSubmit").prop("disabled",!0):"frElecPayment"===this.$el[0].id?$("#btElecPaymentSubmit").prop("disabled",!0):"frCancel"===this.$el[0].id?$("#btCancel").prop("disabled",!0):"autosurvey"===this.$el[0].id&&($button=$("#autosurvey button.btn--primary").prop("disabled",!0),AE.ui.disableClicks(),APP.addSpinGear($button))}return!0}})})},validateCreditCard:function(value){if(/[^0-9-\s]+/.test(value))return!1;for(var nCheck=0,nDigit=0,bEven=!1,n=(value=value.replace(/\D/g,"")).length-1;0<=n;n--){var cDigit=value.charAt(n),nDigit=parseInt(cDigit,10);bEven&&9<(nDigit*=2)&&(nDigit-=9),nCheck+=nDigit,bEven=!bEven}return nCheck%10==0},stateMenus:function(selector){},handleVoucherLookup:function($target){var $vEmailDateDiv,$vInputToggleIcon;$target.hasClass("voucherLookupInputToggle")&&($target=$("form.frmVoucherLookup div#voucherNumberInput"),$vEmailDateDiv=$("form.frmVoucherLookup div#voucherEmailDateInput"),$vInputToggleIcon=$("form.frmVoucherLookup label.voucherLookupInputToggle i.fa.voucherLookupInputToggle"),$target.hasClass("trulyhidden")?($vInputToggleIcon.addClass("fa-check-circle").removeClass("fa-circle"),$target.removeClass("trulyhidden").find("input").prop("required",!0),$vEmailDateDiv.addClass("trulyhidden").find("input").prop("required",!1).val("")):$vEmailDateDiv.hasClass("trulyhidden")&&($vInputToggleIcon.addClass("fa-circle").removeClass("fa-check-circle"),$vEmailDateDiv.removeClass("trulyhidden").find("input").prop("required",!0),$target.addClass("trulyhidden").find("input").prop("required",!1).val("")))},emailClean:function(inputID){for(var cleanEmail=$.trim($(inputID).val()),atPos=(cleanEmail=cleanEmail.split("..").join(".")).search("@");"."==cleanEmail.substring(atPos-1,atPos)||"."==cleanEmail.substring(atPos+1,atPos+2);)atPos=(cleanEmail=(cleanEmail=cleanEmail.replace(/\.@/g,"@")).replace(/@\./g,"@")).search("@");for(;"."==cleanEmail.substring(0,1);)cleanEmail=cleanEmail.substring(1);for(;"."==cleanEmail.substring(cleanEmail.length-1,cleanEmail.length);)cleanEmail=cleanEmail.substring(0,cleanEmail.length-1);$(inputID).val(cleanEmail)},cleanWhitespace:function(event,targetID){var targetID=document.getElementById(targetID),val=targetID.value.replace(/\s+/g,"");targetID.value=val},quoteSwap:function(inputID){$(inputID).val($(inputID).val().replace(/"/g,"''"))},addSpinGear:function($button){($button=$button||[])[0]&&!$($button).hasClass("ui--btn-submit-wait")&&$button.addClass("ui--btn-submit-wait").append(APP.props.$spinGear.clone().hide()).ready(function(){$button.find(".ui--loading-results").fadeIn()})},removeSpinGear:function($button){($button=$button||[])[0]&&$button.removeClass("ui--btn-submit-wait").find("i.ui--loading-results").remove()},onBodyClick:function(event,$target){return _.contains(APP.props.$ageInfoBtn,$target[0])?$target.siblings(APP.props.$ageInfoText).toggleClass("display-inline"):!APP.props.$ageInfoText.is($target[0])&&APP.props.$ageInfoText.hasClass("display-inline")?APP.props.$ageInfoText.removeClass("display-inline"):_.contains(APP.props.$modalCloseBtn,$target[0])?".age-info-text"==$target.attr("data-modal-target")?APP.props.$ageInfoText.toggleClass("display-inline"):$($target.attr("data-modal-target")).toggleClass("visuallyhidden"):(APP.handleVoucherLookup($target),$target.hasClass("btnGoodDates")?(_.each($("form.frmGoodDates input.datePickerInput"),function(thisInput){var ogDate=$(thisInput).datepicker("getDate");$(thisInput).val($.datepicker.formatDate("mm-dd-yy",$(thisInput).datepicker("getDate"))),$(thisInput).datepicker("setDate",ogDate)}),!0):($target.hasClass("btn--anim")&&APP.addSpinGear($target),$target.is("button#frChangeCar")||$target.is("#frCancel #btCancel")?(APP.addSpinGear($target),!0):void 0))},onBodyChange:function(event,$target){switch(targetID=event.target.id,targetTag=event.target.tagName.toUpperCase(),targetType=event.target.type.toUpperCase(),targetName=event.target.name,targetTag){case"INPUT":targetID=""===targetID?"input[name='"+event.target.name+"']":"#"+targetID,("vouchnum"===targetName||"vouchernum"===targetName||"ae_voucher"==typeof $target.data("pattern")&&"TEXT"===$target.data("pattern").toUpperCase())&&APP.cleanWhitespace(event,targetID.replace("#","")),("EMAIL"===targetType||"string"==typeof $target.data("pattern")&&"EMAIL"===$target.data("pattern").toUpperCase())&&APP.emailClean(targetID),$target.hasClass("trg__quoteSwap")&&APP.quoteSwap(targetID);break;case"SELECT":"COUNTRY"===targetID.toUpperCase()&&$("form .state-select .stateList").length&&APP.stateMenus(),$target.closest("form").hasClass("validate")&&$target.parent().removeClass("ui-state-invalid").removeClass("ui-state-valid");break;case"TEXTAREA":$target.hasClass("trg__quoteSwap")&&(targetID=""===targetID?"textarea[name='"+event.target.name+"']":"#"+targetID,APP.quoteSwap(targetID))}},postAutoForm:function(){APP.props.$autoForms[0]&&setTimeout(function(){var histUrl;"loadQuote"==APP.props.$autoForms.first().attr("id")?(histUrl=document.referrer||oSite.sslDomain,APP.props.$autoForms.first().submit(),window.history.replaceState({},document.title,histUrl)):APP.props.$autoForms.first().submit()},1e3)},handleLoginChangePassword:function(resultMess,uuid){APP.props.loginInputValid=!1;$('[data-formType="resetPasswordFormForce"]');APP.props.$isInMemberAccount?(APP.removeSpinGear($("#account_login_form").find('button[type="submit"]')),$("input.uid_reset").val(uuid),AE.account.showGridDivByClass("member_reset_password","member_email"),AE.account.showGridDivByClass("member_reset_password","current_password"),AE.account.hideGridDivByClass("member_reset_password","memberPasswordChecklist"),AE.account.hideEle("forgotPasswordContainer"),AE.account.showEle("resetPasswordContainer"),AE.account.isTwoCol()?(AE.account.setHTML("member-response-left",resultMess),AE.account.showGridDiv("member-response-left","")):(AE.account.setHTML("member-response-right",resultMess),AE.account.showGridDiv("member-response-right","")),$("form#member_reset_password").find('input[name="resetType"]').val("force")):($("div#memberPasswordResetNav").removeClass("visuallyhidden"),$("div#memberloginNav").addClass("visuallyhidden"),AE.account.setHTML("resetMessNav",resultMess),AE.account.showGridDiv("resetMessNav",""),APP.removeSpinGear($("#account_login_form").find('button[type="submit"]')),$("input.uid_reset").val(uuid)),$("div.login_container").addClass("visuallyhidden--palm visuallyhidden--lap")},handleLoginAge:function(age){var updateSearchFormAge=!1,inModifyProcess=!1;(inModifyProcess=void 0!==AEdata.booking&&void 0!==AEdata.booking.props&&void 0!==AEdata.booking.props.ismodify?AEdata.booking.props.ismodify:inModifyProcess)||void 0!==AEdata.booking&&void 0!==AEdata.booking.quote&&void 0!==AEdata.booking.oQuote&&void 0!==AEdata.booking.oQuote.searchAgeCheckbox&&AEdata.booking.quote.oQuote.searchAgeCheckbox&&(updateSearchFormAge=!0),"PEU"!=AE.props.siteCode&&(AE.ui.search.useStoredSearch()&&localStorage.getItem("aeSearch")&&_.isString(localStorage.getItem("aeSearch"))&&""!=localStorage.getItem("aeSearch")&&(inModifyProcess=JSON.parse(localStorage.getItem("aeSearch"))).searchAgeCheckbox&&inModifyProcess.searchAge&&inModifyProcess.searchAge==age&&(inModifyProcess.searchAge=age,updateSearchFormAge=!0,inModifyProcess=JSON.stringify(inModifyProcess),localStorage.setItem("aeSearch",inModifyProcess)),updateSearchFormAge)&&(AE.ui.search.setAge(age),AE.ui.search.setDefaultAgeOverride(age),AE.ui.search.init())},setBillingInputRequiredStatus:function(inputs,status){for(i=0;i<inputs.length;++i)"on"==status?($("#"+inputs[i]).attr("required","required"),("state"==inputs[i]?($("#"+inputs[i]).parent().parent().addClass("required"),$("#"+inputs[i]).parent()):($("#"+inputs[i]).parent().addClass("required"),$("#"+inputs[i]))).parent().removeClass("ui-state-valid ui-state-invalid")):"off"==status&&($("#"+inputs[i]).removeAttr("required"),("state"==inputs[i]?($("#"+inputs[i]).parent().parent().removeClass("required"),$("#"+inputs[i]).parent()):($("#"+inputs[i]).parent().removeClass("required"),$("#"+inputs[i]))).parent().removeClass("ui-state-valid ui-state-invalid"))},formFineUploaderInstance:function(formfield,moduleFolder,itemlimit){var fineUploaderFolder="/plugins/ae3/modules/"+moduleFolder+"/fine_uploader",$form_submit_btn=$("input#"+formfield).closest("form").find("#form_submit");uploadlimit=itemlimit||1,new qq.FineUploader({multiple:!1,element:document.getElementById("upload_block-"+formfield),template:"qq-simple-thumbnails-template",request:{endpoint:"/plugins/ae3/modules/"+moduleFolder+"/image-uploader.cfc?method=uploadSingleFile"},retry:{enableAuto:!0},thumbnails:{placeholders:{waitingPath:fineUploaderFolder+"/processing.gif",notAvailablePath:fineUploaderFolder+"/placeholders/not_available-generic.png"}},validation:{itemLimit:uploadlimit},callbacks:{onUpload:function(id,name){$form_submit_btn.addClass("off")},onComplete:function(id,name,responseJSON){responseJSON.success&&($("input#"+formfield).val(responseJSON.server_filename),$("#upload_block-"+formfield+" .qq-upload-button").hide(),$("#upload_block-"+formfield+" .qq-upload-remove-button").show(),$form_submit_btn.removeClass("off"))}}})}};return APP}(),(AE=AE||{}).legacy=AE.legacy||function(){"use strict";var POS={init:function(){POS.grief={isIE:$("html").is(".ua-ie"),whichIE:{isIE7:$("html").is(".ua-ie-7, .ua-ie-7-0"),isIE8:$("html").is(".ua-ie-8, .ua-ie-8-0"),isIE9:$("html").is(".ua-ie-9, .ua-ie-9-0"),isIE10:$("html").is(".ua-ie-10, .ua-ie-10-0"),isIE11:$("html").is(".ua-ie-11, .ua-ie-11-0")},isLegacy:POS._isLegacyBrowser,versionOfBrowser:POS._getLegacyBrowserVersion}},_isLegacyBrowser:function(){var i=0,_ops=POS.grief.whichIE;for(i in _ops){var _isLegacy=_ops[i];if(_isLegacy)return _isLegacy}return!1},_getLegacyBrowserVersion:function(){var _currentVersion,_legacyBrowser={IE7:"isIE7",IE8:"isIE8",IE9:"isIE9",IE10:"isIE10",IE11:"isIE11"},_isLegacy=(POS.grief.isIE,POS._isLegacyBrowser()),_ops=POS.grief.whichIE;if(_isLegacy)for(var i in _legacyBrowser){i=_legacyBrowser[i];_ops[i]&&(_currentVersion=i)}return _currentVersion}};return POS}(),(AE=AE||{}).legacy.polyfill=AE.legacy.polyfill||function(){"use strict";var POS={init:function(){POS.grief={arrayEvery:POS.polyfill._augmentArrayPrototypeEvery,arrayFilter:POS.polyfill._augmentArrayPrototypeFilter,arrayForEach:POS.polyfill._augmentArrayPrototypeForEach,arrayIndexOf:POS.polyfill._augmentArrayPrototypeIndexOf,arrayMap:POS.polyfill._augmentArrayPrototypeMap,objectKeys:POS.polyfill._augmentObjectKeys,objectCreate:POS.polyfill._augmentObjectCreate,stringTrim:POS.polyfill._augmentStringTrim,textContent:POS.polyfill._augmentTextContent},POS.polyfill.init()},polyfill:{init:function(){var i,_augmentBrowserFunction=POS.grief,_availablePolyfills={arrayEvery:!Array.prototype.every,arrayFilter:!Array.prototype.filter,arrayForEach:!Array.prototype.forEach,arrayIndexOf:!Array.prototype.indexOf,arrayMap:!Array.prototype.map,objectKeys:!Object.keys,objectCreate:"function"!=typeof Object.create,stringTrim:!String.prototype.trim,textContent:Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get};for(i in _augmentBrowserFunction)_availablePolyfills[i]&&_augmentBrowserFunction[i]();return!1},_augmentArrayPrototypeEvery:function(){return Array.prototype.every=function(callbackfn,thisArg){var T,k;if(null==this)throw new TypeError("this is null or not defined");var O=Object(this),len=O.length>>>0;if("function"!=typeof callbackfn)throw new TypeError;for(1<arguments.length&&(T=thisArg),k=0;k<len;){if(k in O){var kValue=O[k];if(!callbackfn.call(T,kValue,k,O))return!1}k++}return!0}},_augmentArrayPrototypeFilter:function(){return Array.prototype.filter=function(fun){if(null==this)throw new TypeError;var t=Object(this),len=t.length>>>0;if("function"!=typeof fun)throw new TypeError;for(var val,res=[],thisArg=2<=arguments.length?arguments[1]:void 0,i=0;i<len;i++)i in t&&(val=t[i],fun.call(thisArg,val,i,t))&&res.push(val);return res}},_augmentArrayPrototypeForEach:function(){return Array.prototype.forEach=function(callback,thisArg){var T,k,kValue,O=Object(this),len=O.length>>>0;if(null===this)throw new TypeError(" this is null or not defined");if("function"!=typeof callback)throw new TypeError(callback+" is not a function");for(1<arguments.length&&(T=thisArg),k=0;k<len;)k in O&&(kValue=O[k],callback.call(T,kValue,k,O)),k++}},_augmentArrayPrototypeIndexOf:function(){return Array.prototype.indexOf=function(searchElement,fromIndex){var k;if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),len=o.length>>>0;if(0!=len){fromIndex=+fromIndex||0;if(!(len<=(fromIndex=Math.abs(fromIndex)===1/0?0:fromIndex)))for(k=Math.max(0<=fromIndex?fromIndex:len-Math.abs(fromIndex),0);k<len;){if(k in o&&o[k]===searchElement)return k;k++}}return-1}},_augmentArrayPrototypeMap:function(){return Array.prototype.map=function(callback,thisArg){var T,A,k,kValue,O=Object(this),len=O.length>>>0;if(null==this)throw new TypeError(" this is null or not defined");if("function"!=typeof callback)throw new TypeError(callback+" is not a function");for(1<arguments.length&&(T=thisArg),A=new Array(len),k=0;k<len;)k in O&&(kValue=O[k],kValue=callback.call(T,kValue,k,O),A[k]=kValue),k++;return A}},_augmentObjectCreate:function(){return Object.create=function(prototype,propertiesObject){if(prototype!==Object(prototype)&&null!==prototype)throw TypeError("Argument must be an object, or null");Temp.prototype=prototype||{};var result=new Temp;return Temp.prototype=null,void 0!==propertiesObject&&Object.defineProperties(result,propertiesObject),null===prototype&&(result.__proto__=null),result};function Temp(){}},_augmentObjectKeys:function(){return Object.keys=(hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnumsLength=(dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(obj){if("object"!=typeof obj&&("function"!=typeof obj||null===obj))throw new TypeError("Object.keys called on non-object");var prop,i,result=[];for(prop in obj)hasOwnProperty.call(obj,prop)&&result.push(prop);if(hasDontEnumBug)for(i=0;i<dontEnumsLength;i++)hasOwnProperty.call(obj,dontEnums[i])&&result.push(dontEnums[i]);return result});var hasOwnProperty,hasDontEnumBug,dontEnums,dontEnumsLength},_augmentStringTrim:function(){return String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},_augmentTextContent:function(){var innerText;innerText=Object.getOwnPropertyDescriptor(Element.prototype,"innerText"),Object.defineProperty(Element.prototype,"textContent",{get:function(){return innerText.get.call(this)},set:function(s){return innerText.set.call(this,s)}})}}};return POS.init()}(),(AE=AE||{}).mura=AE.mura||function(){var APP={init:function(){mura.DisplayObject.Form.reopen({onAfterRender:function(){APP.asyncFormsRendered()}})},asyncFormsRendered:function(){var frm_selector="form.mura-form",$inputs=($(frm_selector),$("form.mura-form input,form.mura-form textarea")),$requiredInputs=$("form.mura-form div.mura-control-group.req input,form.mura-form div.mura-control-group.req textarea"),$checksAndRadios=$inputs.filter('input[type="radio"],input[type="checkbox"]'),$requiredCheckboxes=$(frm_selector+' div.mura-control-group.requiredCheckbox input[type="checkbox"]'),$stateDropdowns=($(frm_selector+" button.form-submit"),$(frm_selector+" select.state--select")),$countryDropdowns=$(frm_selector+" select.country--select"),$motorHomeCountryDropdowns=$(frm_selector+" select.motorhome__select--country"),$motorHomeCityDropdowns=$(frm_selector+" select.motorhome__select--city"),$chauffeurCountryDropdowns=$(frm_selector+" select.chauffeur__select--country"),$chauffeurCityDropdowns=$(frm_selector+" select.chauffeur__select--city");$(frm_selector+" select").wrap('<div class="styled--select"></div>'),$.each($inputs,function(j){if("string"==typeof this.title){var rawDataAttr=this.title.match(/--.*--/);if(null!==rawDataAttr){var theseDataAttr=rawDataAttr[0].replace(/--/g,"").split(";");this.title=$.trim(this.title.replace(rawDataAttr[0],""));for(var dtat=0;dtat<theseDataAttr.length;dtat++){var thisAttr=theseDataAttr[dtat].split("=");1<thisAttr.length&&$(this).attr("data-"+thisAttr[0],thisAttr[1])}}}}),$($inputs.filter(".passwordInput")).attr("type","password"),$requiredInputs.prop("required",!0),$requiredCheckboxes.addClass("terms_conditions").prop("required",!0),$.each($checksAndRadios,function(i){var this_selector="#"+this.id,this_label=this.closest("label");$(this_selector).insertBefore(this_label),"radio"==this.type?$(this_label).on("click",function(){$(this_selector).prop("checked")||($($(this).siblings('input[type="radio"]')).prop("checked",!1),$(this_selector).prop("checked",!0))}):$(this_label).on("click",function(){$(this_selector).prop("checked",!$(this_selector).prop("checked"))})}),$.each($(".mura-radio-group"),function(k){$($(this).children('input[type="radio"]')[0]).prop("checked",!0)}),$stateDropdowns.length&&($.each($stateDropdowns.children("option"),function(l){$(this).html($.parseHTML($(this).text())[0]);var rawCountryClass=$(this).val().match(/.*__/);null!==rawCountryClass&&$(this).addClass(rawCountryClass[0]+"state").val($.trim($(this).val().replace(rawCountryClass[0],"")))}),$stateDropdowns.addClass("state_dd_hide"),$($stateDropdowns.parents("div.mura-control-group")).addClass("state_dd_hide"),$($countryDropdowns.children("option[value="+AE.props.countryCode+"]")).prop("selected",!0),AE.forms.handleStateMenus($stateDropdowns.closest("form.mura-form"))),$motorHomeCityDropdowns.length&&($.each($motorHomeCityDropdowns.children("option"),function(l){$(this).html($.parseHTML($(this).text())[0]);var rawCountryClass=$(this).val().match(/.*__/);null!==rawCountryClass&&$(this).addClass(rawCountryClass[0]+"city").val($.trim($(this).val().replace(rawCountryClass[0],"")))}),$($motorHomeCountryDropdowns.children("option[value="+AE.props.countryCode+"]")).prop("selected",!0),AE.forms.handleMotorHomeCityMenus($motorHomeCityDropdowns.closest("form.mura-form"))),$chauffeurCityDropdowns.length&&($.each($chauffeurCityDropdowns.children("option"),function(l){$(this).html($.parseHTML($(this).text())[0]);var rawCountryClass=$(this).val().match(/.*__/);null!==rawCountryClass&&$(this).addClass(rawCountryClass[0]+"city").val($.trim($(this).val().replace(rawCountryClass[0],"")))}),$($chauffeurCountryDropdowns.children("option[value="+AE.props.countryCode+"]")).prop("selected",!0),AE.forms.handleChauffeurCityMenus($chauffeurCityDropdowns.closest("form.mura-form")));$.each(["primary","secondary","tertiary","modify"],function(){$(frm_selector+"btn--"+this+" button.form-submit").addClass("btn--"+this),$(frm_selector+"bk--"+this+" button.form-nav:first-of-type").addClass("btn--"+this),$(frm_selector+"nxt--"+this+" button.form-nav:last-of-type").addClass("btn--"+this),$(frm_selector+"nxt--"+this+" button.form-nav:only-of-type").addClass("btn--"+this)})},validateAll:function(){var validInputs=!1;return validInputs}};return APP}(),(AE=AE||{}).nav=AE.nav||function(){var APP={init:function(){var temp_loginStatus;temp_loginStatus="undefined"!=typeof jsloginStatus&&(jsloginStatus||window.jsloginStatus),APP.props={$primnav:$(".primnav"),$primnavList:$("#primnav--list"),$primnavTop:$("#primnav--list > li"),$primDropLinks:$("#primnav--list > li > a"),$primDropDowns:$("#primnav--list").find(".has-dropdown"),$primnavAcct:$("#primnav--acct"),$primnavMember:$("#primnav--acct .member_account"),$primnavModify:$("#primnav--acct .modify"),$primnavManage:$("#navManageBooking"),$secnav:$(".secnav"),$altnavToggler:$(".altnav__toggler"),$altnavAcct:$(".altnav__account"),$altnavContact:$(".altnav__contact"),$altnav:$("#altnav"),$altnavList:$(".altnav__list"),$altDropDowns:$("#altnav").find(".has-dropdown"),$selCountry:$("#secnav__country .sel-country"),$countryDD:$(".sitepicker"),$countryDDclose:$(".sitepicker-close"),$selLanguage:$("#secnav__country .sel-language"),$languageDD:$(".langpicker"),$selCtryMobile:$("#altnav .sitepicker-mobile"),$spContMobile:$("#sitepicker-mobile"),$acctContDesk:$(".account-signinform"),$acctContMobile:$("#account-signinform-mobile"),$modContDesk:$(".modify-signinform"),$modContMobile:$("#modify-signinform-mobile"),$contactMobile:$(".contact-mobile"),$memberLoginStatus:temp_loginStatus},APP.props.$memberLoginStatus="true"==APP.props.$memberLoginStatus,AE.getSiteViewType(),APP.props.$allDropDowns=APP.props.$primDropDowns.add(APP.props.$altDropDowns),APP.props.$allSubmenus=APP.props.$allDropDowns.find(".submenu-dropdown"),APP.props.$primDropDowns.children("a").append('<div class="drop-toggler-container"><span class="drop-toggler"><i class="fa fa-chevron-down"></i></span></div>'),APP.props.$altDropDowns.children("a").append('<div class="drop-toggler-container"><span class="drop-toggler"><i class="fa fa-chevron-circle-down fa-lg"></i></span></div>'),AE.ui.addBodyClickTask({func:APP.onBodyClick}),APP.props.$primDropDowns.on({"touchstart touchmove":function(event){event.preventDefault()},touchend:function(event){event.preventDefault(),$("html").hasClass("ua-mobile")&&(event.preventDefault(),$(this).closest("li").hasClass("open")?window.location.href=$(this).attr("href"):(APP.closeAllMenus(),$(this).closest("li").addClass("open")))}},"a.parent-link"),APP.props.$altnavList.on({click:function(event){var $target=$(this).closest("li");event.preventDefault(),APP.toggleSubMenus($target)}},".drop-toggler"),APP.props.$secnav.on("click",function(event){event=$(event.target);event.hasClass("altnav__toggler")&&AE.ui.handleToggle(event)});APP.props.$memberLoginStatus?(APP.props.$primnavMember.find(".dropdown-toggle").on("mouseenter",function(event){return event.stopImmediatePropagation(),$(this).click()}),APP.props.$primnavMember.find(".menu-dropdown").on("mouseleave",function(event){return event.stopImmediatePropagation(),$(this).addClass("visuallyhidden")})):(APP.props.$primnavMember.find(".dropdown-toggle").off("mouseenter"),APP.props.$primnavMember.find(".menu-dropdown").off("mouseleave"),AE.props.useWEBAE3_4453&&APP.props.$primnavModify.find(".dropdown-toggle").removeClass("dropdown-toggle")),APP.props.$primnavModify.find(".dropdown-toggle").on("click",function(event){event.preventDefault(),APP.props.$primnavList.find(".has-dropdown").addClass("closed"),APP.props.$acctContDesk.addClass("visuallyhidden"),APP.props.$modContDesk.position({my:"right-12 top+2",at:"right bottom",of:$(event.target)}).toggleClass("visuallyhidden")}),$(".flexNav")[0]&&(temp_loginStatus=$("img.site-logo").height(),$(".flexNav").css("minHeight",temp_loginStatus+12+"px")),APP.props.$selCountry.on("click",function(event){var offsetLeft=0,offsetTop=0;APP.props.$altnav.slideUp(),"palm"!==AE.getSiteViewType()&&(offsetLeft=$(event.target).closest(".sel-country").offset().left,offsetTop=$(event.target).closest(".sel-country").offset().top+20),$(".sitepicker").css({left:offsetLeft,top:offsetTop}),APP.props.$countryDD.toggle(),APP.props.$languageDD.is(":visible")&&APP.props.$languageDD.hide(),setTimeout(function(){APP.props.$altnav.addClass("visuallyhidden")},300)}),APP.props.$selCtryMobile.on("click",function(event){var $contentDesk=$("#sitepicker .sitepicker-container");$("#sitepicker-mobile .sitepicker-container");APP.props.$spContMobile.parent("has-dropdown").hasClass("open")?APP.props.$spContMobile.parent("has-dropdown").removeClass("open"):(APP.props.$spContMobile.parent("has-dropdown").addClass("open"),APP.props.$spContMobile.append($contentDesk))}),APP.props.$countryDDclose.on("click",function(event){APP.props.$countryDD.hide()}),APP.props.$selLanguage.on("click",function(event){var pickerMenuWidth,$offset=$(event.target).closest(".sel-language").offset(),leftPos=$offset.left;AE.props.bIsTpDomain&&(event=$(event.target).closest(".sel-language").innerWidth(),pickerMenuWidth=$("#langpicker").innerWidth(),leftPos=$offset.left+(event-pickerMenuWidth-10)),$(".langpicker").css({left:leftPos,top:$offset.top+30}),APP.props.$languageDD.toggle(),AE.ui.hide(APP.props.$allSubmenus),APP.props.$countryDD.is(":visible")&&APP.props.$countryDD.hide()}),AE.addResizeTask({func:function(){APP.manageResize()},args:[]}),AE.addTransitionTask({func:function(){APP.palmTransition(arguments[0],".account-signinform","#account-signinform-mobile",".login-form"),APP.palmTransition(arguments[0],"#sitepicker","#sitepicker-mobile",".sitepicker-container")}})},palmTransition:function(){var palmContent=$(arguments[2]+" "+arguments[3])[0];arguments[0]||$(""+arguments[1]).append(palmContent),"palm"!==APP.currentSize&&(APP.props.$acctContMobile.addClass("closed"),APP.props.$spContMobile.parent().addClass("closed"),APP.props.$altnavContact.addClass("closed"),APP.props.$altnavAcct.addClass("closed"),APP.props.$altnavToggler.addClass("closed"))},manageResize:function(){"palm"!==APP.currentSize&&"lap"!==APP.currentSize&&(AE.ui.hide(APP.props.$altnav),APP.props.$altDropDowns.find(".submenu-dropdown").hide()),APP.props.$countryDD.hide(),APP.props.$languageDD.hide(),APP.props.$acctContDesk.add(APP.props.$modContDesk).addClass("visuallyhidden")},onBodyClick:function(event,$target){($target.hasClass("tpLogout")||$($target.parent()).hasClass("tpLogout"))&&localStorage.removeItem("aeSearch"),$target.hasClass("my-account-dropdown")&&(APP.props.$memberLoginStatus||event.preventDefault(),APP.props.$primnavTop.find(".has-dropdown").hide("closed"),APP.props.$modContDesk.addClass("visuallyhidden"),APP.props.$acctContDesk.position({my:"right-12 top+2",at:"right bottom",of:$(event.target)}).toggleClass("visuallyhidden")),$target.closest("ul").hasClass("primnav--list")||APP.props.$primnavList.find("li.open").removeClass("open"),".account-signinform"==$($target).data("modal-target")&&APP.props.$acctContDesk.removeClass("open").addClass("closed"),".modify-signinform"==$($target).data("modal-target")&&APP.props.$modContDesk.removeClass("open").addClass("closed"),0!=$(APP.props.$primnavMember[0]).has($target).length||$(APP.props.$acctContDesk[0]).hasClass("visuallyhidden")||APP.props.$acctContDesk.addClass("visuallyhidden"),0!=$(APP.props.$primnavModify[0]).has($target).length||$(APP.props.$modContDesk[0]).hasClass("visuallyhidden")||$("#ui-datepicker-div").is(":hidden")&&APP.props.$modContDesk.addClass("visuallyhidden"),$target.hasClass("trg__drop-toggler")&&$target.find(".drop-toggler").click(),$target.closest("#sitepicker").length||$target.closest(APP.props.$selCountry).length||$("#sitepicker").is(":visible")&&$("#sitepicker").hide()},mobileAccountForm:function(){var $contentDesk=$(".account-signinform .login-form"),$contentMobile=$("#account-signinform-mobile .login-form");APP.props.$acctContMobile.hasClass("open")?(APP.props.$acctContMobile.removeClass("open"),$("#primnav--acct .account-signinform").append($contentMobile)):(APP.props.$acctContMobile.addClass("open"),APP.props.$acctContMobile.append($contentDesk))},handleNavDropdown:function(event){event=$(event.target).closest(".has-dropdown").find(".menu-dropdown");event.hasClass("visuallyhidden")?(AE.ui.hide(APP.props.$allSubmenus),AE.ui.show(event)):event.addClass("visuallyhidden"),APP.props.$countryDD.hide(),APP.props.$languageDD.hide()},closeAllMenus:function(event){APP.props.$primDropDowns.removeClass("open").addClass("closed"),APP.props.$altDropDowns.removeClass("open").addClass("closed")},toggleSubMenus:function(target){var $submenu=target.find(".submenu-dropdown");$submenu.is(":visible")?(target.find(".drop-toggler > i").removeClass("fa-chevron-circle-up").addClass("fa-chevron-circle-down"),$submenu.slideUp()):(target.find(".drop-toggler > i").removeClass("fa-chevron-circle-down").addClass("fa-chevron-circle-up"),$submenu.slideDown())}};return APP}(),(AE=AE||{}).newsletter=AE.newsletter||function(){var APP={init:function(){APP.props={},AE.ui.addBodyClickTask({func:APP.onBodyClick})},footerSubscribe:function($target){var fromPromo=!!$target.hasClass("promo"),$input=fromPromo?$("#newsletter__footer--input--promo"):$("#newsletter__footer--input"),fromPromo=fromPromo?"#newsletter__footer--container--promo":"#newsletter__footer--container";$(fromPromo).removeClass("ui-state-invalid"),AE.forms&&AE.forms.emailClean($input),$input.addClass("trulyhidden"),$target.addClass("trulyhidden"),AE.ui.addSpinner(fromPromo,{size:"2x",color:"black"}),APP.genericSubscribe($target,$input,fromPromo)},diagSubscribe:function($target){var $input=$("#newsletter__diag--input");$("#newsletter__diag--container").removeClass("ui-state-invalid"),AE.forms&&AE.forms.emailClean($input),$input.addClass("trulyhidden"),$target.addClass("trulyhidden"),AE.ui.addSpinner("#newsletter__diag--container",{size:"2x",color:"black"}),APP.genericSubscribe($target,$input,"#newsletter__diag--container")},genericSubscribe:function($target,$input,inputContainerSelector){$.ajax({url:"/plugins/ae3/lib/BookingAjax.cfc",dataType:"json",data:{method:"emailQuoteNewsletterSignup",email:$input.val(),subsource:"FTR"}}).done(function(data){AE.ui.removeSpinner(inputContainerSelector),data.SUCCESS?$input.prop("disabled",!0).removeClass("trulyhidden").val(data.MSG):($(inputContainerSelector).addClass("ui-state-invalid"),$target.removeClass("trulyhidden"),$input.removeClass("trulyhidden").val("").attr("placeholder",data.MSG))}).fail(function(){AE.ui.removeSpinner(inputContainerSelector),$(inputContainerSelector).addClass("ui-state-invalid"),$target.removeClass("trulyhidden"),$input.removeClass("trulyhidden").val("").attr("placeholder",AE.props.oLang.TXT_TRY_AGAIN)})},showSubscribePopup:function(){localStorage.getItem("aeShowSubscribe")&&$.ajax({type:"GET",url:"/plugins/ae3/lib/newsletterpopup.cfc",data:{method:"getModalContent"},success:function(result){returned=JSON.parse(result),AE.ui.dialog.launch({id:"newsletterPopupDiag",title:returned.title,content:returned.content,width:400<$(window).width()?350:"80%",inline:!0}),AE.ui.dialog.update(!0),localStorage.removeItem("aeShowSubscribe")},error:function(result){}})},onBodyClick:function(event,$target){$target.hasClass("newsletter__footer--button")&&APP.footerSubscribe($target),$target.hasClass("newsletter__diag--button")&&APP.diagSubscribe($target)}};return APP}(),(AE=AE||{}).cd=AE.cd||function(){var APP={init:function(){APP.props={$page_type:AECustomDimension.props.$page_type};var i,getrates_Cookie_Value,Session_Cookie_Value=AECustomDimension.getCookieValue("SessionStarted");Session_Cookie_Value||(AECustomDimension.setCookieValue("SessionStarted","true",0),AECustomDimension.makeid(),AECustomDimension.updateSingleValueCookie(AECustomDimension.props.$cn_user_id,AECustomDimension.props.$user_id,3650),AECustomDimension.incrementNumberOfVisits(),AECustomDimension.props.$visitsIncreased&&AE.ga.gaArrayProcess([{GACATEGORY:"NumberOfVisits",GAACTION:"New Session",GALABEL:"Increment Number Of Visits - "+AECustomDimension.props.$numVisits}])),void 0!==AECustomDimension.props.$direction&&AE.ga.gaArrayProcess([{GACATEGORY:"carSearch",GAACTION:"direction",GALABEL:AECustomDimension.props.$direction}]),void 0!==AECustomDimension.props.$pickup&&AE.ga.gaArrayProcess([{GACATEGORY:"carSearch",GAACTION:"pickup",GALABEL:AECustomDimension.props.$pickup}]),void 0!==AECustomDimension.props.$dropoff&&AE.ga.gaArrayProcess([{GACATEGORY:"carSearch",GAACTION:"dropoff",GALABEL:AECustomDimension.props.$dropoff}]),void 0!==AECustomDimension.props.$loctype&&AE.ga.gaArrayProcess([{GACATEGORY:"carSearchLocType",GAACTION:"locationType",GALABEL:AECustomDimension.props.$loctype}]),"/"!==APP.props.$page_type&&"/search/"!==APP.props.$page_type&&("/results/"===APP.props.$page_type?(i=0,i=AECustomDimension.zeroPad(i,2),getrates_Cookie_Value=AECustomDimension.getCurrentCookieValue("getrates_count"),""!==Session_Cookie_Value&&(getrates_Cookie_Value++,AECustomDimension.setCookieValue("getrates_count",getrates_Cookie_Value,0)),getrates_Cookie_Value=AECustomDimension.zeroPad(getrates_Cookie_Value,2),AECustomDimension.setDimension("dimension10",i+" Matrix Clicks"),AE.ga.gaArrayProcess([{GACATEGORY:"matrixClicksCount",GAACTION:"Get Rates View - "+getrates_Cookie_Value,GALABEL:i+" Matrix Clicks"}]),$("#matrix__wrapper").on("click",function(event){var event=$(event.target).closest("li");!event[0]||event.hasClass("no-rate")||(event=event.data()||{},_.has(event,"category"),_.has(event,"supplier"),i++,i=AECustomDimension.zeroPad(i,2),AECustomDimension.setDimension("dimension10",i+" Matrix Clicks"),AE.ga.gaArrayProcess([{GACATEGORY:"matrixClicksCount",GAACTION:"Get Rates View - "+getrates_Cookie_Value,GALABEL:i+" Matrix Clicks"}]))})):"/options/"!==APP.props.$page_type&&"/upgrade/"!==APP.props.$page_type&&("/checkout/"===APP.props.$page_type?(AECustomDimension.updateSingleValueCookie(AECustomDimension.props.$cn_cc_used,"no",365),$("#cardnumber").on("change",function(event){""!==$(this).val()?AECustomDimension.updateSingleValueCookie(AECustomDimension.props.$cn_cc_used,"yes",365):AECustomDimension.updateSingleValueCookie(AECustomDimension.props.$cn_cc_used,"no",365)}),AE.ga.gaArrayProcess([{GACATEGORY:"bookform field tracking",GAACTION:"form load",GALABEL:"00 - Form Load",GAVALUE:1}])):"/confirmation/"===APP.props.$page_type&&AECustomDimension.props.$ccUsed&&AE.ga.gaArrayProcess([{GACATEGORY:AECustomDimension.props.$cn_cc_used,GAACTION:AECustomDimension.props.$cn_cc_used,GALABEL:AECustomDimension.props.$ccValue}])))}};return APP}(),(AE=AE||{}).ga=AE.ga||function(){var APP={init:function(){APP.props={$gaClick:$(".trg__ga--Click"),$gaAuto:$(".trg__ga--Auto"),$gaChange:$(".trg__ga--Change"),$gaChild:$(".trg__ga--Child"),$gaCheck:$(".trg__ga--Checkbox"),$gaTime:$(".trg__ga--Time")},AE.props.isAUNZ&&setTimeout(function(){APP.gaArrayProcess([{GACATEGORY:"15_seconds",GAACTION:"read"}])},15e3),$.each(APP.props.$gaAuto,function(i){APP.props.$gaAuto[i].attributes["data-gaarray"]&&(i=JSON.parse(decodeURIComponent(APP.props.$gaAuto[i].attributes["data-gaarray"].value)),APP.gaArrayProcess(i))}),$.each(APP.props.$gaTime,function(i){APP.timeOnPage()}),AE.ui.addBodyClickTask({func:APP.onBodyClick}),AE.ui.addBodyChangeTask({func:APP.onBodyChange})},gaArrayProcess:function(gaArray){null!==gaArray&&$.each(gaArray,function(j){APP.gaLogEvent(gaArray[j].GACATEGORY,gaArray[j].GAACTION,gaArray[j].GALABEL,gaArray[j].GAVALUE),"undefined"!=typeof ga&&APP.gaTrackEvent(gaArray[j].GACATEGORY,gaArray[j].GAACTION,gaArray[j].GALABEL,gaArray[j].GAVALUE)})},gaLogEvent:function(gaCategory,gaAction,gaLabel,gaValue){},gaTrackEvent:function(gaCategory,gaAction,gaLabel,gaValue){aeDataLayer.push({event:"gaEvent",eventCategory:gaCategory,eventAction:gaAction,eventLabel:gaLabel,eventValue:gaValue})},onBodyClick:function(event,$target){var gaObject,cbStatus,addStatus;!$target.hasClass("trg__ga--Click")||void 0===$target.data("gaarray")||$target.hasClass("matrix__cell")&&$target.closest("li").hasClass("no-rate")||APP.gaArrayProcess(JSON.parse(decodeURIComponent($target.data("gaarray")))),$target.hasClass("trg__ga--Child")&&void 0!==$target.parent().data("gaarray")&&(gaObject=JSON.parse(decodeURIComponent($target.parent().data("gaarray"))),!$target.hasClass("dropdown-toggle")||$target.parent().hasClass("open"))&&APP.gaArrayProcess(gaObject),$target.hasClass("trg__ga--Nav")&&void 0!==$target.data("gaarray")&&(gaObject=JSON.parse(decodeURIComponent($target.data("gaarray"))),!$target.parent().hasClass("has-dropdown")||$target.parent().hasClass("open"))&&APP.gaArrayProcess(gaObject),$target.hasClass("trg__ga--Checkbox")&&void 0!==$target.data("gaarray")&&(gaObject=JSON.parse(decodeURIComponent($target.data("gaarray"))),cbStatus=$target.is(":checked")?"checked":"unchecked",($target.hasClass("matrix_filter")||$target.hasClass("map_filter"))&&(addStatus={GAACTION:cbStatus},_.extend(gaObject[0],addStatus)),$target.hasClass("saveQuote-newsletter")&&(addStatus={GALABEL:cbStatus},_.extend(gaObject[0],addStatus)),APP.gaArrayProcess(gaObject))},onBodyChange:function(event,$target){var gaObject,selectVal;$target.hasClass("trg__ga--Change")&&void 0!==$target.data("gaarray")&&(gaObject=JSON.parse(decodeURIComponent($target.data("gaarray"))),selectVal=$target.val(),$target.hasClass("optionalEquip")&&(gaObject[0].GALABEL+=" "+selectVal),APP.gaArrayProcess(gaObject))},timeOnPage:function(){document.referrer.split("/")[2]!=document.location.hostname&&(setTimeout(function(){APP.gaArrayProcess([{GACATEGORY:"TimeOnPage",GAACTION:"1 sec"}])},1e3),setTimeout(function(){APP.gaArrayProcess([{GACATEGORY:"TimeOnPage",GAACTION:"2 sec"}])},2e3),setTimeout(function(){APP.gaArrayProcess([{GACATEGORY:"TimeOnPage",GAACTION:"5 sec"}])},5e3),setTimeout(function(){APP.gaArrayProcess([{GACATEGORY:"TimeOnPage",GAACTION:"10 sec"}])},1e4),setTimeout(function(){APP.gaArrayProcess([{GACATEGORY:"TimeOnPage",GAACTION:"20 sec"}])},2e4),setTimeout(function(){APP.gaArrayProcess([{GACATEGORY:"TimeOnPage",GAACTION:"30 sec"}])},3e4),setTimeout(function(){APP.gaArrayProcess([{GACATEGORY:"TimeOnPage",GAACTION:"60 sec"}])},6e4))}};return APP}(),(AE=AE||{}).utils=AE.utils||function(){"use strict";return{init:function(){},_groupItemsByPropsInArray:function(_array,f){var groups={};return _array.forEach(function(o){var group=JSON.stringify(f(o));groups[group]=groups[group]||[],groups[group].push(o)}),Object.keys(groups).map(function(group){return groups[group]})},_findMatchingPropsInArray:function(_array,checkProp){return _array.filter(function(entry){return Object.keys(checkProp).every(function(key){return entry[key]===checkProp[key]})})},_deleteEmptyObjsByValFromArray:function(_array,deleteValue){for(var i=0;i<_array.length;i++)_array[i]==deleteValue&&(_array.splice(i,1),i--);return _array},_sortPropByAlphaInArray:function(_array,sortProp){return _array.sort(function(a,b){return a[sortProp]<b[sortProp]?-1:a[sortProp]>b[sortProp]?1:0})},_removeDuplicateObjectsFromArray:function(_array,filterProp){var i,_tempArr=new Array,_matchLocTitle={};for(i in _array)"function"!=typeof _array[i]&&(_matchLocTitle[_array[i][filterProp]]=_array[i]);for(i in _matchLocTitle)_tempArr.push("function"!=typeof _array[i]?_matchLocTitle[i]:void 0);return _tempArr},_checkValueAlreadyExistsInArray:function(_array,value){return-1<_array.indexOf(value)}}}(),(AE=AE||{}).privateBrowsing=AE.privateBrowsing||function(){"use strict";var UI={init:function(){var cookieCheck=AECookie.props.cookiesEnabled();UI.props={_localStorage:"",_sessionStorage:"",checkCookies:cookieCheck,privateSessionPolyfill:UI._checkLocalStorageAvailability,usePolyfill:UI._localStoragePolyfill,requireCookieNotification:!0,cookieNotificationShown:!(!cookieCheck||null==AECookie||!AECookie.read("cookieNotificationShown")),userEngagedNotification:!(!cookieCheck||null==AECookie||!AECookie.read("userEngagedNotification")),cookieExpires:60,activeNotification:"",messaging:{defaultCookieMessage:AE.props.cookie_support.DEFAULT_FROM_AE2,defaultCloseButton:AE.props.cookie_support.CLOSE_BUTTON,noCookieSupportTitle:AE.props.cookie_support.WARNING_TITLE,noCookieSupportMessage:AE.props.cookie_support.WARNING_TEXT,moreInfoMessage:AE.props.cookie_support.INFO_LINK,moreInfoLink:location.origin+"/"+AE.props.cookie_support.INFO_LINK_URL,confirmCookieSupportMessage:AE.props.cookie_support.DEFAULT_COOKIE_USE}},$(".whitelabel-if")[0]&&(UI.props.cookieNotificationShown=!0),AE.ui.addBodyClickTask({func:UI.onBodyClick}),UI.mainSearch()},mainSearch:function(){UI.props.checkCookies?AE.props.bWhiteLabel||AE.props.bIsTpDomain?UI.props.cookieNotificationShown=!0:UI._cookiesEnabled():UI._cookiesDisabled()},_cookiesEnabled:function(){return UI._tryLaunch({title:"",message:UI.props.messaging.defaultCookieMessage}),!!UI.props.privateSessionPolyfill()&&UI.props.usePolyfill()},_cookiesDisabled:function(){return UI._tryLaunch({title:UI.props.messaging.noCookieSupportTitle,message:UI.props.messaging.noCookieSupportMessage},!1),!1},_tryLaunch:function(obj,cookieSupport){obj.title,obj.message},_showCookieNotification:function(obj,cookieSupport){var _title=obj.title||!1,obj=obj.message||!1,cookieSupport=cookieSupport||!0,$warningTitleHolder="",$warningTitle="",notificationHtml="",$warningMessage=$("<p/>",{html:obj}),$cookieSupportNotificationWindow=(_title?($warningTitleHolder=$("<div/>",{class:"ui-cookie-support-wrap--inner ui-cookie-support-title"}),$warningTitle=$("<h2/>",{html:_title})):$warningMessage.addClass("valign--middle"),$("<div/>",{id:"ui-cookie-support-notification",role:"alertdialog"})),$warningMsgWrapper=$("<div/>",{class:"ui-cookie-support-message-wrap"}),$warningTitleHolder=$("<div/>",{class:"ui-cookie-support-wrap--inner ui-cookie-support-title"}),$warningMessageHolder=$("<div/>",{class:"ui-cookie-support-wrap--inner ui-cookie-support-message message-flex-start"}),_notificationRef=$cookieSupportNotificationWindow.attr("id"),_notificationRef=(UI.props.activeNotification=_notificationRef,$("<button/>",{class:"ui-cookie-support-dismiss-button ui-cookie-support-dismiss-link ui-warn-flag-close-btn ui-top-notification-close-btn",html:UI.props.messaging.defaultCloseButton,for:UI.props.activeNotification})),$dismissNotificationBtnDecline=$("<button/>",{class:"ui-cookie-support-dismiss-button ui-cookie-support-dismiss-link ui-warn-flag-close-btn ui-top-notification-close-btn declineBtn",html:"decline"}),$dismissNotificationBtnCustSet=$("<button/>",{class:"ui-cookie-support-dismiss-button ui-cookie-support-dismiss-link ui-warn-flag-close-btn ui-top-notification-close-btn custSetBtn",html:"customize Settings "}),notificationHtml=obj==UI.props.messaging.defaultCookieMessage?"":'<small><a class="ui-cookie-support-dismiss-link" for="'+UI.props.activeNotification+'" href="'+UI.props.messaging.moreInfoLink+'"> '+UI.props.messaging.moreInfoMessage+"</a></small>",obj=$("<span/>",{html:notificationHtml}),notificationHtml=$("<div/>",{class:"message-flex-end"}),$moreInfoWrapper=$("<div/>",{class:"more-info-wrapper"});return $warningTitleHolder.append($warningTitle),notificationHtml.append(_notificationRef),notificationHtml.append($dismissNotificationBtnDecline),notificationHtml.append($dismissNotificationBtnCustSet),$warningMsgWrapper.append($warningTitleHolder,$moreInfoWrapper.append($warningMessageHolder.append($warningMessage,obj),notificationHtml)),_title||$warningTitleHolder.remove(),$cookieSupportNotificationWindow.prepend($warningMsgWrapper),0==AE.props.$scrollContent.has("#"+UI.props.activeNotification).length&&UI._fn_launchNotification(_notificationRef,$cookieSupportNotificationWindow,cookieSupport)},_hideCookieNotification:function(trigger,dialog){return trigger.addClass("ui-warn--out").removeClass("ui-warn--in"),dialog.slideUp("slow")},_fn_launchNotification:function(trigger,dialog,hasCookieSupport){return hasCookieSupport||AE.ga.gaArrayProcess([{GACATEGORY:"cookieSupport",GAACTION:"noCookieSupport",GALABEL:"noCookieSupportMessage"}]),AE.props.$scrollContent.prepend(dialog.hide()),dialog.slideDown("slow")},_checkLocalStorageAvailability:function(){var _reqPolyfill;try{if(!window.localStorage||!window.sessionStorage)throw"exception";localStorage.setItem("storage_test",1),localStorage.removeItem("storage_test"),_reqPolyfill=!1}catch(e){_reqPolyfill=!0}return _reqPolyfill},_localStoragePolyfill:function(){return AE._augmentPrivateBrowsingLocalStorage()},onBodyClick:function(event,target){var target=$(target),shouldCloseNotification=target.hasClass("ui-cookie-support-dismiss-link"),$notification=$("#"+target.attr("for")),isCloseBtn=target.hasClass("ui-cookie-support-dismiss-button"),$getCloseBtn=isCloseBtn?target:$notification.find(".ui-cookie-support-dismiss-button");if($(".openShut").click(function(){$(this).next().is(":visible")?($(this).next().hide(),$(this).parent().removeClass("AccContainerActive")):($(this).next().show(),$(this).parent().addClass("AccContainerActive"))}),target.hasClass("custSetBtn")&&(AE.ui.dialog.launch("#save-quote",{content:""}),AE.ui.dialog.addContent("<h4>Privacy Preference Center</h4><p>In order for websites to provide relevant information to its visitors, and cater their experience, websites may store and retrieve data from your web browser. This action is done in the form of cookies. Cookies are generally installed on your browser to be used by the same website at a later date to enhance your overall experience. Cookies may contain information about you, your device, your technical hardware, your preferences, and any other relevant information that will help in providing visitors with a more personalized visit. <br/><br/>The use of cookies is optional, and as Auto Europe takes privacy seriously, we provide you with an option not to use these during your visit. You can pick and choose what cookie types to accept and reject â€“ however, by restricting some cookies, we may not be able to provide you with the full website experience, offer certain services and can even stop the website from working properly. Following is a more in-depth explanation of the cookies we use on our site.</p> <a href='/privacy#agb8'>[More Information]</a><p></p><div class='AccContainer'><div class='openShut'><div class='pos-l'><div class='plus-minus'></div><h4>Functional cookies </h4></div><div class='pos-r allways_txt'>Always Active</div></div><div class='Acontent'><div>this is content 1 </div></div></div><div class='AccContainer'><div class='openShut'><div class='pos-l'><div class='plus-minus'></div><h4>Analytical cookies </h4></div><div class='pos-r w_switch'><label class='switch'> <input type='checkbox'> <span class='slider round'></span></label></div></div><div class='Acontent'><div>this is content 1 </div></div></div><div class='AccContainer'><div class='openShut'><div class='pos-l'><div class='plus-minus'></div><h4>Marketing cookies </h4></div><div class='pos-r w_switch'><label class='switch'> <input type='checkbox'> <span class='slider round'></span></label></div></div><div class='Acontent'><div>this is content 1 </div></div></div>")),shouldCloseNotification)return isCloseBtn&&(event.preventDefault?event.preventDefault():event.returnValue=!1),UI._hideCookieNotification($getCloseBtn,$notification)}};return UI}(),(AE=AE||{}).maps=AE.maps||function(){var APP={init:function(){APP.props={$mapAPILoaded:!1,$dfd_api:$.Deferred(),$dfd_markers:$.Deferred()},APP.pin_image={D:{icon:AE.props.muraThemePath+"/images/map/city_green.png",none:AE.props.muraThemePath+"/images/map/city_red.png",pickup:AE.props.muraThemePath+"/images/map/city_blue.png",chosen:AE.props.muraThemePath+"/images/map/chosen.png"},O:{icon:AE.props.muraThemePath+"/images/map/city_green.png",none:AE.props.muraThemePath+"/images/map/city_red.png",pickup:AE.props.muraThemePath+"/images/map/city_blue.png",chosen:AE.props.muraThemePath+"/images/map/chosen.png"},R:{icon:AE.props.muraThemePath+"/images/map/rail_green.png",selected:AE.props.muraThemePath+"/images/map/rail_green.png",none:AE.props.muraThemePath+"/images/map/rail_red.png",pickup:AE.props.muraThemePath+"/images/map/rail_blue.png",chosen:AE.props.muraThemePath+"/images/map/chosen.png"},A:{icon:AE.props.muraThemePath+"/images/map/air_green.png",none:AE.props.muraThemePath+"/images/map/air_red.png",pickup:AE.props.muraThemePath+"/images/map/air_blue.png",chosen:AE.props.muraThemePath+"/images/map/chosen.png"},chosen:AE.props.muraThemePath+"/images/map/chosen.png"}},runDrawMap:function($target,dfd_myDeferred){$target.hasClass("open")&&dfd_myDeferred.resolve()},loadGoogleMapsAPI:function(){var stringAPI=""!=AE.props.googleMapsAPIKey?"?key="+AE.props.googleMapsAPIKey:"";$.getScript("https://maps.google.com/maps/api/js"+stringAPI+"&callback=initMap",function(data,textStatus,jqxhr){APP.props.$dfd_api.resolve(),"success"===textStatus&&$.ajax({type:"GET",url:AE.props.muraThemePath+"/assets/markerwithlabel/markerwithlabel.min.js",cache:!0,success:function(){APP.props.$mapAPILoaded=!0,APP.props.$dfd_markers.resolve()}})})},loadDisplayObjectMap:function(cityName,cntryCode,container,suppName){suppName=suppName||"",$.ajax({url:"/plugins/ae3/lib/searchController.cfc",dataType:"json",data:{method:"getCityLocations",ccc:cntryCode,ccn:cityName,csn:suppName},success:function(data){window.google&&"object"===window.google?AE.maps.drawLandingLocationMap(data,container,cityName,cntryCode):(APP.buildRichSnippetJSON(data,cityName,cntryCode),APP.loadGoogleMapsAPI(),$.when(APP.props.$dfd_api,APP.props.$dfd_markers).then(function(){AE.maps.drawLandingLocationMap(data,container,cityName,cntryCode)}))}})},drawLandingLocationMap:function(json,container,city,country){if("undefined"!=typeof muraInlineEditor)return $(container).append("Mura Admin Note: Map content will be provided by Google Maps API on live page."),!1;var mapOptions={mapTypeControl:!1,streetViewControl:!1,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},map=new google.maps.Map($(container)[0],mapOptions),bounds=new google.maps.LatLngBounds,markers=[],infowindow="",locationPoints=[];$.each(json,function(index,item){var thisLatLng=new google.maps.LatLng(item.latitude,item.longitude),pin=function(hub){var pin="D";switch(hub){case 1:pin="A";break;case 2:pin="R";break;case 5:pin="D"}return pin}(item.hubtype_id);locationPoints.push({geo:{lat:item.latitude,lng:item.longitude},item:item,marker:pin}),bounds.extend(thisLatLng)}),map.fitBounds(bounds);for(var i=0;i<locationPoints.length;i++)!function(items,timeout){window.setTimeout(function(){var marker=new google.maps.Marker({icon:APP.pin_image[items.marker].icon,position:items.geo,map:map,animation:google.maps.Animation.BOUNCE,optimized:!1}),addressa=(markers.push(marker),setTimeout(function(){marker.setAnimation(null)},750),""!==items.item.locationlabela?items.item.locationlabela+"<br/>":""),addressb=""!==items.item.locationlabelb?items.item.locationlabelb+"<br/>":"",addressc=""!==items.item.locationlabelc?items.item.locationlabelc+"<br/>":"";google.maps.event.addListener(marker,"click",function(){infowindow&&infowindow.close(),infowindow=new google.maps.InfoWindow;var infowindow_markup='<h6 class="push-half--bottom">'+addressa+addressb+addressc+city+", "+country+"</h6><div><b>lat: </b>"+items.geo.lat+"&deg;, &nbsp;&nbsp;<b>long: </b>"+items.geo.lng+"&deg;</div>";infowindow.setContent(infowindow_markup),infowindow.open(map,marker),this.setZIndex(google.maps.Marker.MAX_ZINDEX+1)})},timeout)}(locationPoints[i],i%2?1e3:2e3)},buildRichSnippetJSON:function(json,city,country){var jsonLD=[],json=($.each(json,function(index,item){var address=""!==item.locationlabelc?item.locationlabelb+" "+item.locationlabelc:item.locationlabelb,address={"@context":"http://schema.org","@type":"Place",name:item.locationlabelb,address:[{"@type":"PostalAddress",addressLocality:city,addressRegion:country,streetAddress:address}],geo:[{"@type":"GeoCoordinates",latitude:item.latitude,longitude:item.longitude}]};jsonLD.push(address)}),JSON.stringify(jsonLD)),script=document.createElement("script");script.setAttribute("type","application/ld+json"),script.appendChild(document.createTextNode(json)),document.body.appendChild(script)}};return APP}(),(AE=AE||{}).affiliate=AE.affiliate||function(){var APP={init:function(){APP.props={$checkBox:$("#afftools__signup #terms"),$termsLink:$('#afftools__signup label[for="terms"] a'),termsAccepted:!1},AE.ui.contentGroup($(".aff__nav-link"),$(".aff__content"),{visual:!0,willSlide:!1}),AE.ui.addBodyClickTask({func:APP.onBodyClick}),AE.ui.addBodyChangeTask({func:function(event){APP.onBodyChange(event)}}),APP.props.$checkBox.on("click",function(event){APP.props.termsAccepted||APP.props.$termsLink.click()}),APP.props.$termsLink.on("click",function(event){APP.affTerms(event)}),AEdata.affiliate&&AEdata.affiliate.props&&(AEdata.affiliate.selectedTab&&""!==AEdata.affiliate.selectedTab?$('.aff__nav-link[data-content="'+AEdata.affiliate.selectedTab+'"]').click():(AEdata.affiliate.props.isTP&&1==AEdata.affiliate.props.isTP?$("#acct"):$("#settings")).removeClass("visuallyhidden"),AEdata.affiliate.props.loadColors)&&$("input.input--spectrum").spectrum({preferredFormat:"hex",showInput:!0,showButtons:!0,chooseText:AEdata.affiliate.oLang.colors.choose,cancelText:AEdata.affiliate.oLang.colors.cancel})},affTerms:function(event){var haveTerms=!(!APP.props.$termsLink.data("aff-terms")||!APP.props.$termsLink.data("aff-terms").length),showBtns=!0;event.preventDefault(),APP.props.termsAccepted&&(showBtns=!1),haveTerms&&(event=JSON.parse(decodeURIComponent(APP.props.$termsLink.data("aff-terms"))),showBtns?((haveTerms={})[event.ACCEPT]=function(){APP.props.$checkBox.prop("checked",!0),APP.props.termsAccepted=!0,APP.props.$checkBox.parent().removeClass("ui-state-invalid"),AE.ui.dialog.close()},haveTerms[event.DECLINE]=function(){APP.props.$checkBox.prop("checked",!1),APP.props.$checkBox.parent().addClass("ui-state-invalid"),AE.ui.dialog.close()},AE.ui.dialog.launch({id:"aff-terms",dialogClass:"top-dialog",title:event.HEAD,type:"standard",content:event.BODY,buttons:haveTerms,buttonOpts:{setClass:"align-center",lastButtonClass:"btn--base",firstButtonClass:"btn--primary",exclusiveClose:!0},width:900<$(window).width()?850:"80%"})):AE.ui.dialog.launch({id:"aff-terms",dialogClass:"top-dialog",title:event.HEAD,type:"standard",content:event.BODY,width:900<$(window).width()?850:"80%"}))},onBodyChange:function(event,$target){"affLogo"===event.target.id&&"file"===event.target.type&&(""!==event.target.value?$("button.trg--affSiteLogo").attr("type","submit").addClass("btn--primary btn--affOp").removeClass("btn--cancel btn--disabled"):$("button.trg--affSiteLogo").attr("type","button").removeClass("btn--primary btn--affOp").addClass("btn--cancel btn--disabled"))},onBodyClick:function(event,$target){$target.hasClass("btn--affOp")&&(AE.ui.disableClicks(),AE.forms.addSpinGear($target),$target.hasClass("trg--affSiteColors")&&$("input.sp-input").change(),setTimeout(function(){0<$(".ui-state-invalid").length&&(AE.ui.enableClicks(),AE.forms.removeSpinGear($target),$(".ui-state-invalid").first().focus())},250))}};return APP}(),(AE=AE||{}).feeds=AE.feeds||function(){var APP={init:function(){APP.props={$keywords:$(".feedkeywordSearch:visible"),$bttnfeedSearch:$(".btnFeedSearch:visible"),storageAvailable:!0},AE.ui.addBodyClickTask({func:APP.onBodyClick});try{sessionStorage}catch(err){APP.props.storageAvailable=!1}$("div#blog_posts").length?(APP.props.storageAvailable&&(sessionStorage.getItem("pageNo")||sessionStorage.setItem("pageNo","1"),sessionStorage.getItem("keywords")||(sessionStorage.setItem("isSearch",!1),sessionStorage.setItem("keywords","")),APP.props.$bttnfeedSearch.hasClass("blog_post")?(sessionStorage.setItem("isFromPost",!1),sessionStorage.setItem("feedListing",!1)):(sessionStorage.setItem("feedListing",!0),sessionStorage.setItem("remoteID",$("#feedRemoteID").val())),sessionStorage.getItem("keywords"))&&$("input#keywords").val(decodeURI(sessionStorage.getItem("keywords"))),$("#feedResultsBykeyword").html(""),$("#feedResults").addClass("visuallyhidden"),$("#feedResultsBykeyword").addClass("visuallyhidden"),APP.props.storageAvailable&&(sessionStorage.getItem("feedListing")&&"true"==sessionStorage.getItem("feedListing")&&"true"==sessionStorage.getItem("isSearch")?(APP.loadCustomFeed(!1,APP.props.$bttnfeedSearch),$("div#feedResults").addClass("visuallyhidden")):$("div#feedResults").removeClass("visuallyhidden")),$("#keywords,.btnFeedSearch").keydown(function(e){var key=e.which;if(13==key&&13==e.which)return jQuery(this).blur(),jQuery(".btnFeedSearch").focus().click(),!1})):APP.props.storageAvailable&&(sessionStorage.removeItem("keywords"),sessionStorage.removeItem("isSearch"),sessionStorage.removeItem("feedListing"),sessionStorage.removeItem("isFromPost"),sessionStorage.removeItem("pageNo"),sessionStorage.removeItem("remoteID"))},onBodyClick:function(event,$target){var currentSearch,keywords,baseURL;13!==event.which&&("category_select"==$target.attr("id")&&""!=$target.val()&&(APP.props.storageAvailable&&(sessionStorage.removeItem("keywords"),sessionStorage.removeItem("isSearch"),sessionStorage.setItem("feedListing",!1),sessionStorage.setItem("isFromPost",!1),sessionStorage.setItem("pageNo",1)),window.location.pathname!=$target.val())&&APP.changeCategories($target.val()),APP.props.storageAvailable&&($target.parent().hasClass("readmore")?(sessionStorage.setItem("feedListing",!1),sessionStorage.setItem("keywords",""),sessionStorage.setItem("isSearch",!1)):sessionStorage.setItem("feedListing",!0)),$target.hasClass("btnFeedSearch")&&(event.preventDefault(),APP.props.storageAvailable&&sessionStorage.setItem("feedListing",!0),currentSearch=sessionStorage.getItem("keywords"),keywords=encodeURIComponent($(".feedkeywordSearch:visible").val()),baseURL=$($target).data("url"),APP.props.storageAvailable&&($($target).hasClass("blog_post")?(sessionStorage.setItem("isFromPost",!0),AE.forms.addSpinGear($target)):sessionStorage.setItem("isFromPost",!1)),0!=keywords.length?APP.props.storageAvailable&&(sessionStorage.setItem("keywords",keywords),sessionStorage.setItem("isSearch",!0),sessionStorage.getItem("keywords")!=currentSearch&&sessionStorage.setItem("pageNo",1),"true"==sessionStorage.getItem("isFromPost")?window.location.href=baseURL:APP.loadCustomFeed(!1,$target)):($("#currentSearch").val(""),$("#currentPage").val(""),APP.props.storageAvailable&&(sessionStorage.setItem("keywords",""),sessionStorage.setItem("pageNo","1"),sessionStorage.setItem("isSearch",!1),"true"==sessionStorage.getItem("isFromPost")?window.location.href=baseURL:($("#feedResultsBykeyword").addClass("visuallyhidden"),$("#feedResults").removeClass("visuallyhidden"))))),$target.is("#blog-page-number"))&&(event.preventDefault(),APP.props.storageAvailable&&sessionStorage.setItem("pageNo",$(event.target).attr("data-page")),$target.attr("href"),APP.loadCustomFeed(!0,""))},loadCustomFeed:function(scrollTop,$target){var remoteID=APP.props.storageAvailable?sessionStorage.getItem("remoteID"):"",keywords=APP.props.storageAvailable?sessionStorage.getItem("keywords"):"",pageNo=APP.props.storageAvailable?sessionStorage.getItem("pageNo"):"";$("div#search_wait_mess").removeClass("visuallyhidden"),$target&&$target.hasClass("btnFeedSearch")&&(AE.forms.addSpinGear($target),$("#feedResultsBykeyword").html("")),$.ajax({type:"POST",url:"/plugins/ae3/lib/customFeeds.cfc?method=searchFeed",dataType:"json",data:{remoteID:remoteID,keywords:keywords,pageNo:pageNo},success:function(result){$("div#search_wait_mess").addClass("visuallyhidden"),$("#feedResultsBykeyword").html(""),$("#feedResultsBykeyword").html(result),APP.showHide("feedResultsBykeyword","feedResults"),AE.forms.removeSpinGear($target),scrollTop&&$("#blog-scroll")[0].scrollIntoView({behavior:"smooth",block:"start"})},error:function(xhr,ajaxOptions,thrownError){}})},showHide:function(show,hide){$("#"+hide).addClass("visuallyhidden"),$("#"+show).removeClass("visuallyhidden")},getUrlParameter:function(name,str){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");name=new RegExp("[\\?&]"+name+"=([^&#]*)").exec(str);return null===name?"":decodeURIComponent(name[1].replace(/\+/g," "))},changeCategories:function(url){document.location.href=url}};return APP}(),objDFD.general.resolve();
//# sourceMappingURL=AE.general.min.js.map
